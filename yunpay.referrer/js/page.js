angular.module("starter",["ionic","starter.controllers","starter.services","ngFileUpload","starter.systemConstant","ngImgCrop"]).run(["$ionicPlatform",function(a){a.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>",noBackdrop:!0}).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","$httpProvider",function(a,b,c,d){c.tabs.style("standard").position("bottom"),c.navBar.alignTitle("center"),c.scrolling.jsScrolling(!0),c.views.transition("andriod"),d.defaults.withCredentials=!0;var e="1400";a.state("referrer",{url:"/referrer","abstract":!0,templateUrl:"html/templates/seller.html?v="+e}).state("referrer.userArget",{url:"/userArget",cache:"false",views:{content:{templateUrl:"html/referrer/userArget.html?v="+e}}}).state("referrer.regist",{url:"/regist",cache:"false",views:{content:{templateUrl:"html/referrer/regist.html?v="+e}}}).state("referrer.referrerCenter",{url:"/referrerCenter",cache:"false",views:{content:{templateUrl:"html/referrer/referrerCenter.html?v="+e,controller:"referrerCenter"}}}).state("referrer.addCommission",{url:"/addCommission",cache:"false",views:{content:{templateUrl:"html/referrer/addCommission.html?v="+e,controller:"addCommission"}}}).state("referrer.moneyDetail",{url:"/moneyDetail/{id}/{time}/{amount}",cache:"false",views:{content:{templateUrl:"html/referrer/moneyDetail.html?v="+e,controller:"moneyDetail"}}}).state("referrer.balanceDetail",{url:"/balanceDetail",cache:"false",views:{content:{templateUrl:"html/referrer/balanceDetail.html?v="+e,controller:"balanceDetail"}}}).state("referrer.transactionDetail",{url:"/transactionDetail/{type}/{state}/{orderId}/{time}",cache:"false",views:{content:{templateUrl:"html/referrer/transactionDetail.html?v="+e,controller:"transactionDetail"}}}).state("referrer.safeInfo",{url:"/safeInfo",cache:"false",views:{content:{templateUrl:"html/referrer/safeInfo.html?v="+e,controller:"safeInfo"}}}).state("referrer.realNameApprove",{url:"/realNameApprove",cache:"false",views:{content:{templateUrl:"html/referrer/realNameApprove.html?v="+e}}}).state("referrer.changePassword",{url:"/changePassword",cache:"false",views:{content:{templateUrl:"html/referrer/changePassword.html?v="+e}}}).state("referrer.withdraw",{url:"/withdraw",cache:"false",views:{content:{templateUrl:"html/referrer/withdraw.html?v="+e,controller:"withdraw"}}}).state("referrer.myBankCard",{url:"/myBankCard",cache:"false",views:{content:{templateUrl:"html/referrer/myBankCard.html?v="+e,controller:"myBankCard"}}}).state("referrer.cardDetail",{url:"/cardDetail/{cardId}",cache:"false",views:{content:{templateUrl:"html/referrer/cardDetail.html?v="+e,controller:"cardDetail"}}}).state("referrer.addBankCard",{url:"/addBankCard",cache:"false",views:{content:{templateUrl:"html/referrer/addBankCard.html?v="+e}}}).state("referrer.personageOperation",{url:"/personageOperation/{code}",cache:"false",views:{content:{templateUrl:"html/referrer/personageOperation.html?v="+e,controller:"personageOperation"}}}).state("referrer.merchantOperation",{url:"/merchantOperation/{code}",cache:"false",views:{content:{templateUrl:"html/referrer/merchantOperation.html?v="+e,controller:"merchantOperation"}}}).state("referrer.platformOperation",{url:"/platformOperation/{code}",cache:"false",views:{content:{templateUrl:"html/referrer/platformOperation.html?v="+e}}}).state("referrer.agencyOperation",{url:"/agencyOperation/{code}",cache:"false",views:{content:{templateUrl:"html/referrer/agencyOperation.html?v="+e}}}).state("referrer.referrerIntroduce",{url:"/referrerIntroduce",cache:"false",views:{content:{templateUrl:"html/referrer/referrerIntroduce.html?v="+e,controller:"referrerIntroduce"}}}).state("referrer.IDclosedWaring",{url:"/IDclosedWaring",cache:"false",views:{content:{templateUrl:"html/referrer/IDclosedWaring.html?v="+e,controller:"IDclosedWaring"}}}),b.otherwise("/referrer/referrerCenter")}]);angular.module("starter.controllers",[]).controller("regist",["$scope","$state","validate","seller","common","systemConfig","dialog","systemConstant","userInfo","sendPhoneValidCode","referrerdata",function(a,b,c,d,e,f,g,h,i,j,k){a.data={showPwd:!1,user:{userPhone:"",userPwd:"",phoneCode:""}},a.sendValidate=function(){return c.element(a.form1.userPhone,"手机号")&&k.getValidateCode({phoneNumber:a.data.user.userPhone})},a.fun={changeShowPwd:function(){var b=document.getElementById("password");a.data.showPwd?(a.data.showPwd=!a.data.showPwd,b.type="password"):(a.data.showPwd=!a.data.showPwd,b.type="text")},userRegist:function(){var d=c.form(a.form1,{message:{userPhone:"您的手机号",phoneCode:"手机验证码",userPwd:"您的密码"}});d&&k.ReferrerRegister({PhoneNumber:a.data.user.userPhone,SmsCode:a.data.user.phoneCode,Password:a.data.user.userPwd},function(){g.tipsSuccess("登录成功",function(){b.go("referrer.referrerCenter")})})}}}]).controller("referrerCenter",["$scope","$state","$stateParams","merchants2","referrerdata","dialog",function(a,b,c,d,e,f){var g=new Clipboard(document.getElementById("d_clip_button"));g.on("success",function(a){f.tipsSuccess("复制成功"),a.clearSelection()}),g.on("error",function(){f.tips("请选择“拷贝”进行复制!")}),a.data={},a.fun={goAddCommission:function(){b.go("referrer.addCommission")},goBalanceDetail:function(){b.go("referrer.balanceDetail")},goSafeInfo:function(){b.go("referrer.safeInfo")},goWithdraw:function(){b.go("referrer.withdraw")},goPersonageOperation:function(){b.go("referrer.personageOperation",{code:a.data.invitationCode})},goMerchantOperation:function(){b.go("referrer.merchantOperation",{code:a.data.invitationCode})},goPlatformOperation:function(){b.go("referrer.platformOperation",{code:a.data.invitationCode})},goAgencyOperation:function(){b.go("referrer.agencyOperation",{code:a.data.invitationCode})},goReferrerIntroduce:function(){b.go("referrer.referrerIntroduce")}},e.ReferrerCenterInfo(function(b){a.data=b})}]).controller("addCommission",["$scope","$state","$stateParams","merchants2","referrerdata","page",function(a,b,c,d,e,f){a.data={ReferrerAccount:{},CommisstionMoney:[]},a.page={},a.fun={goMoneyDetail:function(a,c,d){b.go("referrer.moneyDetail",{id:a,time:c,amount:d})}},e.ReferrerAccount(function(b){a.data.ReferrerAccount=b});var g=f.page({scope:a,url:"/api/referrer/CommisstionMoney",parame:{},initData:function(b,c){angular.forEach(b,function(a){a.createTime=a.createTime.substr(0,10)}),c&&(a.data.CommisstionMoney=[]),a.data.CommisstionMoney=a.data.CommisstionMoney.concat(b)}});a.page={CommisstionMoney:g},g.pageInit()}]).controller("moneyDetail",["$scope","$state","$stateParams","merchants2","referrerdata",function(a,b,c,d,e){var f=c.id,g=c.time,h=c.amount,i=function(b){e.CommissionList({id:a.data.id,type:b},function(c){switch(a.data.CommissionListBegin=c,b){case-1:a.data.CommissionList0=a.data.CommissionListBegin,a.data.CommissionListEnd=a.data.CommissionList0;break;case 1:a.data.CommissionList1=a.data.CommissionListBegin,a.data.CommissionListEnd=a.data.CommissionList1;break;case 2:a.data.CommissionList2=a.data.CommissionListBegin,a.data.CommissionListEnd=a.data.CommissionList2;break;case 3:a.data.CommissionList3=a.data.CommissionListBegin,a.data.CommissionListEnd=a.data.CommissionList3;break;case 4:a.data.CommissionList4=a.data.CommissionListBegin,a.data.CommissionListEnd=a.data.CommissionList4}})};a.data={id:f,time:g,amount:h,checkShop:"全部",CommissionListBegin:[],CommissionList0:[0],CommissionList1:[0],CommissionList2:[0],CommissionList3:[0],CommissionList4:[0],CommissionListEnd:[]},a.fun={changshop:function(){switch(a.data.checkShop){case"全部":a.data.CommissionListEnd=a.data.CommissionList0;break;case"个人":0==a.data.CommissionList1[0]?i(1):a.data.CommissionListEnd=a.data.CommissionList1;break;case"商家":0==a.data.CommissionList2[0]?i(2):a.data.CommissionListEnd=a.data.CommissionList2;break;case"代理":0==a.data.CommissionList3[0]?i(3):a.data.CommissionListEnd=a.data.CommissionList3;break;case"平台":0==a.data.CommissionList4[0]?i(4):a.data.CommissionListEnd=a.data.CommissionList4}}},i(-1)}]).controller("balanceDetail",["$scope","$state","$stateParams","merchants2","referrerdata","changeTime",function(a,b,c,d,e){a.data={nodata:!1,detail:[]},a.fun={goTransactionDetail:function(a,c,d,e){1!=a&&b.go("referrer.transactionDetail",{type:a,state:c,orderId:d,time:e})}},e.FundsFlowList(function(b){angular.forEach(b,function(b){switch(b.state){case 1:case 3:case 8:b.stateName="审核转账中";break;case 4:b.stateName="提现成功";break;case 2:case 5:case 9:b.stateName="提现失败"}1==b.type&&(b.createTime=b.createTime.substr(0,10),b.itemName="佣金收益"),2==b.type&&(b.itemName="提现",b.orderId=b.relationId),3==b.type&&(b.itemName="手续费",b.orderId=b.relationId),a.data.detail.push(b)}),a.data.nodata=0==a.data.detail.length?!0:!1})}]).controller("transactionDetail",["$scope","$state","$stateParams","referrerdata",function(a,b,c,d){var e=c.type,f=c.state,g=c.time,h="",i="",j=c.orderId,k=3==e?"手续费":"提现";switch(f){case"1":h="待审核",i="wait";break;case"3":h="转账中",i="wait";break;case"8":h="初审通过",i="wait";break;case"4":h="转账成功",i="succeed";break;case"2":h="审核不通过",i="defeat";break;case"5":h="转账失败",i="defeat";break;case"9":h="初审不通过",i="defeat"}a.data={type:e,state:f,stateName:h,time:g,stateEN:i,orderId:j,title:k,Info:{}},d.WithdrawalModel({Id:a.data.orderId},function(b){b.bankCardNoLastFour=b.bankCardNo.substr(b.bankCardNo.length-4,4),a.data.Info=b})}]).controller("safeInfo",["$scope","$state","$stateParams","referrerdata","userInfo",function(a,b,c,d,e){a.data={},a.fun={goRealNameApprove:function(){b.go("referrer.realNameApprove")},goChangePassword:function(){b.go("referrer.changePassword")},goMyBankCard:function(){b.go("referrer.myBankCard")}},d.ReferrerBaseInfo(function(b){switch(b.state){case 0:b.stateName="正常";break;case 1:b.stateName="冻结";break;case 2:b.stateName="封号"}a.data=b,e.setUserPhone(b.phoneNumber),e.setUserRealName(b.realName)})}]).controller("realNameApprove",["$scope","$state","$ionicHistory","validate","seller","common","systemConfig","dialog","systemConstant","userInfo","sendPhoneValidCode","bank","referrerdata",function(a,b,c,d,e,f,g,h,i,j,k,l,m){a.data={isArget:!0,bankCardName:"",user:{realName:"",idCard:"",bankCardNo:"",userPhone:"",phoneCode:""}},a.sendValidate=function(){return d.element(a.form1.userPhone,"手机号")&&m.RealNameSmsCode({phoneNumber:a.data.user.userPhone})},a.fun={showBankInfo:function(){l.getBankInfo(a.data.user.bankCardNo,function(b,c){if(""==a.data.bankCode,!b&&c){if(!c||!c.addible)return a.data.bankCardName="系统暂不支持"+c.bankName+"银行卡,请选择其他银行卡",void 0;if("DC"!=c.cardType)return a.data.bankCardName="系统只能绑定储蓄卡,请选择其他银行卡",void 0;a.data.bankCode=c.bankCode,a.data.bankCardName=c.bankName}else a.data.bankCardName=b})},userRegist:function(){var b=d.form(a.form1,{message:{realName:"您的姓名",idCard:"您的身份证",bankCardNo:"您的卡号",userPhone:"您的手机号",phoneCode:"短信验证码"}});if(b){if(!a.data.bankCode)return h.tips(a.data.bankCardName),void 0;m.AddBankCardFirst({realName:a.data.user.realName,idcardNumber:a.data.user.idCard,cardNumber:a.data.user.bankCardNo,phone:a.data.user.userPhone,bankName:a.data.bankCardName,SmsCode:a.data.user.phoneCode,bankCode:a.data.bankCode},function(){h.tipsSuccess("实名认证成功",function(){c.goBack()})})}}}}]).controller("changePassword",["$scope","$state","$ionicHistory","validate","seller","common","systemConfig","dialog","systemConstant","userInfo","sendPhoneValidCode","referrerdata",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.getUserPhone();a.data={phoneNumber:m,showPwd:!1,user:{userPwd:"",phoneCode:""}},a.sendValidate=function(){return l.SafeSmsCode()},a.fun={changeShowPwd:function(){var b=document.getElementById("password");a.data.showPwd?(a.data.showPwd=!a.data.showPwd,b.type="password"):(a.data.showPwd=!a.data.showPwd,b.type="text")},userRegist:function(){var b=d.form(a.form1,{message:{userPwd:"您想更改的密码",phoneCode:"短信验证码"}});b&&l.UpdateSafePassword({safePassword:a.data.user.userPwd,code:a.data.user.phoneCode},function(){h.tipsSuccess("密码修改成功",function(){c.goBack()})})}}}]).controller("myBankCard",["$scope","$state","referrerdata","common",function(a,b,c,d){var e=d.bankList,f=function(a){var b={};return angular.forEach(e,function(c){c.id==a&&(b=c)}),b};a.data={data:{},hasRealName:!0},a.fun={getShowBankNo:d.getShowBankNo,addCard:function(){b.go("referrer.addBankCard")},goToCardDetail:function(a){b.go("referrer.cardDetail",{cardId:a})}},c.BankCardList(function(b){var c={};angular.forEach(b,function(a){c=f(a.bankCode),a.desc=c||{}}),a.data.data=b}),c.ReferrerBaseInfo(function(b){a.data.hasRealName=null==b.realName?!1:!0})}]).controller("cardDetail",["$scope","referrerdata","$state","$stateParams","$ionicHistory","dialog","common","validate",function(a,b,c,d,e,f,g,h){var i=g.bankList,j=function(a){var b={};return angular.forEach(i,function(c){c.id==a&&(b=c)}),b},k=d.cardId;a.data={},a.user={},a.fun={save:function(){var c=!0;f.passWord("解绑银行卡","","",function(d,g){return c?h.checkPwd(d,!0)?(c=!1,a.data.securityPwd=d,b.UnbundlingBankCard({id:k,safeCode:d},function(){g.close(),f.tipsSuccess("解绑成功",function(){e.goBack()})}).finally(function(){c=!0}),void 0):!1:!1},"解绑")}},b.BankCardList(function(b){angular.forEach(b,function(b){b.desc=j(b.bankCode)||{},b.cardNo=b.cardNo.substr(b.cardNo.length-4,4),b.id==k&&(a.data=b)})}),b.WithdrawalsUserInfo(function(b){a.user.hasPwd=b.isSetSecurityPwd})}]).controller("addBankCard",["$scope","$ionicHistory","$ionicPopover","validate","referrerdata","dialog","popover","bank","userInfo",function(a,b,c,d,e,f,g,h,i){var j=null,k=i.getUserRealName(),l=g.city(a,{event:{okFun:function(){var b=l.fun().getText(),c=b.split(",");a.data.cityText=b,a.data.areaCode=l.fun().getlaseId(),a.data.provincial=c[0],a.data.city=c[1],a.data.hasCityName=!0}}});c.fromTemplateUrl("html/referrer/addBankCardModal.html",{scope:a,animation:"slide-in-up"}).then(function(a){j=a}),a.sendValidate=function(){return d.element(a.form1.userPhone,"手机号")&&e.RealNameSmsCode({phoneNumber:a.data.userPhone})},a.data={realName:k,userPhone:"",phoneCode:"",cityText:"点击设置开户行所在城市",isArget:!0,fullName:"",bankCardNo:"",bankCardName:"请设置银行卡开户行",hasBackName:!1,hasCityName:!1,securityPwd:"",bankCode:"",cityInfo:"",provincial:"",areaCode:"",bankCode:""},a.popover={city:l},a.fun={showPopoverT:function(){j.show(document.getElementById("help"))},hidePopoverT:function(){j.hide()},showBankInfo:function(){h.getBankInfo(a.data.bankCardNo,function(b,c){if(""==a.data.bankCode,!b&&c){if(!c||!c.addible)return a.data.bankCardName="系统暂不支持"+c.bankName+"银行卡,请选择其他银行卡",a.data.hasBackName=!1,void 0;if("DC"!=c.cardType)return a.data.bankCardName="系统只能绑定储蓄卡,请选择其他银行卡",a.data.hasBackName=!1,void 0;a.data.bankCode=c.bankCode,a.data.bankCardName=c.bankName,a.data.hasBackName=!0}else a.data.bankCardName=b,a.data.hasBackName=!1})},addCardSubmit:function(){var c=d.form(a.form1,{message:{fullName:"您的姓名",bankCardNo:"您的银行卡号",bankCardName:"开户行名称",userPhone:"您的手机号",phoneCode:"手机验证码"}});if(c){if(!a.data.bankCode)return f.tips(a.data.bankCardName),void 0;if(!a.data.areaCode)return f.tips("请设置开户行所在城市"),void 0;e.AddBankCard({realName:a.data.realName,cardNumber:a.data.bankCardNo,phone:a.data.userPhone,bankName:a.data.bankCardName,areaId:a.data.areaCode,SmsCode:a.data.phoneCode,bankCode:a.data.bankCode},function(){f.tipsSuccess("添加银行卡成功",function(){b.goBack()})})}}}}]).controller("withdraw",["$scope","$state","$ionicHistory","$stateParams","$ionicPopover","referrerdata","validate","dialog","common","systemConstant",function(a,b,c,d,e,f,g,h,i,j){var k=i.bankList,l=2e4,m=100,n=function(){var b=a.data.user.amount,c=a.data.user.withdrawalFee;return b?g.checkAmount(b,!1)?(b=parseFloat(b),m>b?(a.data.user.withdrawalAmountText="单笔提现金额不能低于"+m,!1):b>l?(a.data.user.withdrawalAmountText="单笔提现金额不能超过"+l,!1):parseFloat((b+c).toFixed(2))>a.data.user.withdrawalAmount?(a.data.user.withdrawalAmountText="余额不足",!1):c):(a.data.user.withdrawalAmountText="请输入正确的金额",!1):(a.data.user.withdrawalAmountText="账户余额:"+a.data.user.withdrawalAmount,!1)},o=function(a){var b={};return angular.forEach(k,function(c){c.id==a&&(b=c)}),b};a.data={withdrawalType:2,tixianMothed:j.tixianMothed,bank:[],showBankMethod:"",cardChecked:{},user:{},showBtn:!1},a.fun={getShowBankNo:i.getShowBankNo,show:function(b){a.data.withdrawalType=b,a.data.user.amount=""},clearAmount:function(){a.data.user.amount="",n()},changeAmount:function(){var b=n();return b?(a.data.showBtn=!0,a.data.user.withdrawalAmountText="要扣除￥"+b+"手续费",void 0):(a.data.showBtn=!1,void 0)},getAll:function(){var b=a.data.user.withdrawalAmount,c=a.data.user.withdrawalFee;l+c>b?(amount=b-c,0>amount&&(amount=0),amount=amount.toFixed(2)):amount=l,a.data.user.amount=amount,this.changeAmount()},save:function(){var b,d;return a.data.user.amount?(b=n())?(d=!0,h.passWord("提现","","",function(b,e){return d?g.checkPwd(b,!0)?(d=!1,f.WithdrawalApply({amount:a.data.user.amount,withdrawalType:a.data.withdrawalType,cardId:a.data.cardChecked.id,SafePassword:b},function(){e.close(),h.tipsSuccess("提现成功",function(){a.data.user.amount="",c.goBack()})}).finally(function(){d=!0}),void 0):!1:!1},"提现"),void 0):!1:(h.tipsError("请输入正确的金额"),!1)},getCard:function(b){a.data.withdrawalType=2,a.data.cardChecked=angular.extend(a.data.cardChecked,b)}},f.BankCardList(function(b){var c={};angular.forEach(b,function(a){c=o(a.bankCode),a.desc=c||{}}),a.data.bank=b,a.data.showBankMethod=b.length,a.data.cardChecked=angular.extend(a.data.cardChecked,b[0])}),f.WithdrawalsUserInfo(function(b){a.data.user=b,a.data.user.withdrawalAmountText="账户余额:￥"+a.data.user.withdrawalAmount,m=b.minimumWithdrawalAmount>0?b.minimumWithdrawalAmount:m,l=b.maximumWithdrawalAmount>0?b.maximumWithdrawalAmount:l})}]).controller("personageOperation",["$scope","$state","$stateParams","referrerdata","weixin","systemConstant",function(a,b,c,d,e,f){var i,g=c.code,h=f.webDoamin;a.img={imgUrl:"img/juhepayQR.png"},a.data={code:0==g?"":g},d.ParamQrCode({type:1,code:a.data.code},function(b){a.img.imgUrl=1==b.qrCodeType?"img/juhepayQR.png":b.qrCodeUrl}),i=e.weiXin(),i.init(function(){i.share({title:"个人收款业务",desc:"快速开通，即开即用，无需任何费用，多通道、快速收款、提现秒到。",link:"http://"+h+"/#/referrer/personageOperation/"+g,imgUrl:"http://"+h+"/img/share-personageOperation.jpg",type:"",dataUrl:"",success:function(){},cancel:function(){}})})}]).controller("merchantOperation",["$scope","$state","$stateParams","referrerdata","weixin","systemConstant",function(a,b,c,d,e,f){var i,g=c.code,h=f.webDoamin;a.img={},a.data={code:0==g?"":g},d.ParamQrCode({type:2,code:a.data.code},function(b){a.img.imgUrl=1==b.qrCodeType?"img/taidupayQR.png":b.qrCodeUrl}),i=e.weiXin(),i.init(function(){i.share({title:"商家收银业务",desc:"强大的支付系统、店铺管理系统、营销系统、高效率实现交易闭环。让店铺快速迈入移动互联网+的时代。",link:"http://"+h+"/#/referrer/merchantOperation/"+g,imgUrl:"http://"+h+"/img/share-merchantOperation.jpg",type:"",dataUrl:"",success:function(){},cancel:function(){}})})}]).controller("platformOperation",["$scope","$state","$stateParams","$ionicHistory","referrerdata","validate","dialog","weixin","systemConstant",function(a,b,c,d,e,f,g,h,i){var l,j=c.code,k=i.webDoamin;a.data={hasinvitationCode:0==j?"":j,user:{},type:4,Name:"",userPhone:"",Address:"",invitationCode:""},a.data.hasinvitationCode&&(a.data.invitationCode=a.data.hasinvitationCode),a.fun={userRegist:function(){var b=f.form(a.form1,{message:{Name:"联系人姓名",userPhone:"联系人电话",Address:"详细地址",invitationCode:"邀请码"}});a.data.hasinvitationCode&&(a.data.hasinvitationCode=a.data.hasinvitationCode),b&&e.BusinessApply({type:a.data.type,name:a.data.Name,phone:a.data.userPhone,address:a.data.Address,code:a.data.invitationCode},function(){g.tipsSuccess("提交申请成功",function(){d.goBack()})})}},l=h.weiXin(),l.init(function(){l.share({title:"平台支付对接",desc:"一套最具灵活的组合平台支付工具，只提供技术方案，不参与资金清算，0成本快速接入，安全省心高效的支付系统。",link:"http://"+k+"/#/referrer/platformOperation/"+j,imgUrl:"http://"+k+"/img/share-platformOperation.jpg",type:"",dataUrl:"",success:function(){},cancel:function(){}})})}]).controller("agencyOperation",["$scope","$state","$stateParams","$ionicHistory","referrerdata","validate","dialog","weixin","systemConstant",function(a,b,c,d,e,f,g,h,i){var l,j=c.code,k=i.webDoamin;a.data={hasinvitationCode:0==j?"":j,type:3,Name:"",userPhone:"",Address:"",invitationCode:""},a.data.hasinvitationCode&&(a.data.invitationCode=a.data.hasinvitationCode),a.fun={userRegist:function(){var b=f.form(a.form1,{message:{Name:"联系人姓名",userPhone:"联系人电话",Address:"详细地址",invitationCode:"邀请码"}});b&&e.BusinessApply({type:a.data.type,name:a.data.Name,phone:a.data.userPhone,address:a.data.Address,code:a.data.invitationCode},function(){g.tipsSuccess("提交申请成功",function(){d.goBack()})})}},l=h.weiXin(),l.init(function(){l.share({title:"推荐代理",desc:"现全国招募代理合伙人，共同拓展市场，共同分享支付行业大蛋糕！",link:"http://"+k+"/#/referrer/agencyOperation/"+j,imgUrl:"http://"+k+"/img/share-agencyOperation.jpg",type:"",dataUrl:"",success:function(){},cancel:function(){}})})}]).controller("referrerIntroduce",["$scope","referrerdata",function(){}]).controller("IDclosedWaring",["$scope",function(){}]);angular.module("starter.services",[]).directive("even",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return 0===a%2?d.$setValidity("even",!0):d.$setValidity("even",!1),a})}}}).directive("phone",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=/(13[0-9]|15[0-9]|18[0-9]|14[0-9]|17[0-9])\d{8}$/;return b.test(a)?d.$setValidity("phone",!0):d.$setValidity("phone",!1),a})}}}).directive("email",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)?d.$setValidity("email",!0):d.$setValidity("email",!1),a})}}}).directive("amount",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=/^(-)?(([1-9]{1}\d*)|([0]{1}))(\.(\d){1,2})?$/;return b.test(a)?d.$setValidity("amount",!0):d.$setValidity("amount",!1),a})}}}).directive("validatecode",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=/\d{4}$/;return 4==a.length&&b.test(a)?d.$setValidity("validatecode",!0):d.$setValidity("validatecode",!1),a})}}}).directive("phonecode",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=/\d{5}$/;return 5==a.length&&b.test(a)?d.$setValidity("phonecode",!0):d.$setValidity("phonecode",!1),a})}}}).directive("userpwd",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=/^[A-Za-z0-9]{6,30}/;return a.length>=6&&b.test(a)?d.$setValidity("userpwd",!0):d.$setValidity("userpwd",!1),a})}}}).directive("idcard",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=function(a){var j,m,n,b=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1),c=new Array("1","0","X","9","8","7","6","5","4","3","2","x"),d=new Array,h=0,k=a.length,l=a.toUpperCase();if(15!=k&&18!=k)return!1;for(i=0;k>i;i++){if(d[i]=l.charAt(i),(d[i]<"0"||d[i]>"9")&&17!=i)return!1;17>i&&(d[i]=d[i]*b[i])}if(18==k){if(m=l.substring(6,14),0==g(m))return!1;for(i=0;17>i;i++)h+=d[i];if(j=c[h%11],d[17]!=j)return!1}else if(n=l.substring(6,12),0==f(n))return!1;return!0},f=function(a){if(!/^[0-9]{6}$/.test(a))return!1;var b,c;return b=a.substring(0,4),c=a.substring(4,6),1700>b||b>2500?!1:1>c||c>12?!1:!0},g=function(a){var b,c,d,e;return/^[0-9]{8}$/.test(a)?(b=a.substring(0,4),c=a.substring(4,6),d=a.substring(6,8),e=[31,28,31,30,31,30,31,31,30,31,30,31],1700>b||b>2500?!1:((0==b%4&&0!=b%100||0==b%400)&&(e[1]=29),1>c||c>12?!1:1>d||d>e[c-1]?!1:!0)):!1};d.$parsers.push(function(a){return e(a)?d.$setValidity("idcard",!0):d.$setValidity("idcard",!1),a})}}}).directive("ccpInputClose",function(){return{restrict:"AE",replace:!1,transclude:!0,template:function(a,b){a.after('<i class="ion-close-round icon ccp_input_close" ng-show="'+b.ngModel+" && "+!b.ngDisabled+'" ng-click="'+b.ngModel+"='';\"></i>")}}}).directive("sendPhoneCode",["validate","$interval","$timeout",function(a,b){return{restrict:"AE",replace:!1,transclude:!0,template:function(a){a.after('<a class="button button-positive sendPhoneCode {{send.css}}" ng-click="sendPhoneCode()"><span>{{send.text}}</span></a>')},link:function(a){var f=120;a.send={css:"",text:"发送验证码"},a.sendPhoneCode=function(){console.log("sendPhoneCode"),a.send.css="disabled",a.send.text="正在发送";var c=function(){var c,d;a.send.css="disabled",c=f,d=b(function(){c--,a.send.text=c+"秒"},1e3,f).then(function(){b.cancel(d),a.send.css="",a.send.text="发送验证码"})};return c(),a.sendValidate(c)}}}}]).factory("userInfo",[function(){var c="spp_";return{setWXClerkCode:function(a){localStorage.setItem(c+"WXClerkCode",a)},getWXClerkCode:function(){return localStorage.getItem(c+"WXClerkCode")||""},setPayUserId:function(a){localStorage.setItem(c+"payUserId",a)},getPayUserId:function(){return localStorage.getItem(c+"payUserId")||""},setSureFirstGoinShopCenter:function(a,b){localStorage.setItem(c+a+"_sureFirstInShopCenter",b)},getSureFirstGoinShopCenter:function(a){return localStorage.getItem(c+a+"_sureFirstInShopCenter")||""},setUserPhone:function(a){localStorage.setItem(c+"_UserPhone",a)},getUserPhone:function(){return localStorage.getItem(c+"_UserPhone")||""},setUserRealName:function(a){localStorage.setItem(c+"_UserRealName",a)},getUserRealName:function(){return localStorage.getItem(c+"_UserRealName")||""}}}]).factory("payMethod",["dialog","browser","systemConstant",function(a){var d=function(){},e=function(b,c){var d={successFun:"",errorFun:""},e=angular.extend(d,c);WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:b.appId,timeStamp:b.timeStamp,nonceStr:b.nonceStr,"package":b.package,signType:"MD5",paySign:b.paySign},function(b){"get_brand_wcpay_request:ok"==b.err_msg?angular.isFunction(e.successFun)&&e.successFun():"get_brand_wcpay_request:cancel"==b.err_msg?a.tipsError("付款取消"):angular.isFunction(e.errorFun)&&e.errorFun()})};return{aliPay:function(a){return d(a)},weixinPay:function(a,b){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e(a,b),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e(a,b)),document.attachEvent("onWeixinJSBridgeReady",e(a,b))):e(a,b)}}}]).factory("common",["$http","$ionicPopup","$ionicLoading","$timeout","$state","systemConstant","dialog","userInfo",function(a,b,c,d,e,f,g){var i=function(b,c,d,e){return b=b||{},b.url&&b.url.indexOf("http://")<0&&(b.url="http://"+f.apiDomain+b.url),b.params=b.params||{},a(b).then(function(a){c&&angular.isFunction(c)&&c(a.data)},function(a){d&&angular.isFunction(d)&&d(a.data)}).finally(function(){e&&angular.isFunction(e)&&e()})},j=function(a,b,d,e){return e||c.show(),i(d,function(c){c&&angular.isString(c)&&(c=angular.fromJson(c)),c&&c.flag?a&&angular.isFunction(a)&&a(c.data,c.msg,c.errCode,c):b&&angular.isFunction(b)?b(c.data,c.msg,c.errCode,c):g.tips(c.msg)},function(){g.tips("网络异常，请重试")},function(){e||c.hide()})},k=function(a,b,c){var e,g,d=!1;if(a&&(a.indexOf("wx.qlogo.cn")>-1||a.indexOf(".360buyimg.com")>-1||a.indexOf("img/wu80x80.png")>-1))return a;if(!a)switch(d=!0,c){case 1:a="http://"+f.imgDomain+"/default/defult_100.jpg";break;default:a="http://"+f.imgDomain+"/default/default_user.png"}switch(e="http://"+f.imgDomain,g=function(a,b){var c=a.substr(a.lastIndexOf(".")),f=a.substr(0,a.lastIndexOf("."));return f.indexOf("_")>-1&&(f=f.substring(0,f.indexOf("_"))),f=d?f+"_"+b+c:e+f+"_"+b+c},a.indexOf("http")>-1&&(e=""),b){case 2:a=g(a,"320x320");break;case 3:a=g(a,"100x100");break;case 4:a=g(a,"640x640");break;case 1:default:a=e+a}return a},l=function(a){var f,b=5,c="",d='<i class="iconfont spp-xinghuang font_color_fd9f01" ></i>',e='<i class="iconfont spp-xinghui"></i>';for(a||(a=0),f=0;a>f;f++)c+=d;for(f=0;b-a>f;f++)c+=e;return c};return{getUrlParam:function(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);return null!=c?decodeURI(c[2]):null},http:function(a,b,c,d){return i(a,b,c,d)},httpPost:function(a,b,c,d,e,f){return e=e||{url:a,params:b,data:b,method:"POST"},j(c,d,e,f)},httpGet:function(a,b,c,d,e,f){return e=e||{url:a,params:b,method:"GET"},e.params["timestamp"]=(new Date).getTime(),j(c,d,e,f)},getImgSrc:function(a,b,c){return k(a,b,c)},getScore:function(a){return l(a)},getShowBankNo:function(a){var b,c,d,e,f;if(!a)return"";for(b=a.length,c=parseInt(b/4),d=b%4,e="",f=0;c>f;f++)e+=a.substr(4*f,4),(c-1!=f||0!=d)&&(e+=" ");return e?e+=a.substr(b-d):a},getShowPhone:function(a){if(!a||11!=a.length)return a;var b="";return b=a.substr(0,3)+" ",b+=a.substr(3,4)+" ",b+=a.substr(7,4)},pageCommon:function(){return{getday:function(a){if(a){var b=a.split(" ");return b[0]}},getTime:function(a){if(a){var b=a.split(" ");return b[1]}},getDateStr:function(a,b,c){var d,e,f,g;switch(b&&(b=b.substring(0,b.indexOf(" "))),d=new Date(b)||new Date,d.setDate(d.getDate()+a),e=d.getFullYear(),f=parseInt(d.getMonth())+1,g=d.getDate(),c){case 1:return f+"-"+g;default:return e+"-"+f+"-"+g}},getUserPhone:function(a){return a?a.substring(0,3)+"****"+a.substring(7,11):""},getAmount:function(a){return a>=0?"+&nbsp;"+a.toFixed(2):"-&nbsp;"+(-1*a).toFixed(2)}}},getGUID:function(){var b,c,a="";for(b=1;32>=b;b++)c=Math.floor(16*Math.random()).toString(16),a+=c,(8==b||12==b||16==b||20==b)&&(a+="-");return a},bankList:[{id:"CMB",bankName:"招商银行",icon:"spp-zhaoshang",bgColor:"bank_ec6671"},{id:"CCB",bankName:"中国建设银行",icon:"spp-jiansheyinxing",bgColor:""},{id:"ABC",bankName:"中国农业银行",icon:"spp-nongyeyinxing",bgColor:""},{id:"BOC",bankName:"中国银行",icon:"line-height-33 spp-zhongguoyinxing",bgColor:""},{id:"ICBC",bankName:"中国工商银行",icon:"spp-gongshangyinxing",bgColor:"bank_ec6671"},{id:"SPDB",bankName:"上海浦东发展银行",icon:" spp-guangdongpufayinxing",bgColor:""},{id:"BCOM",bankName:"交通银行",icon:"margin-left-5 font30 spp-jiaotongyinxing",bgColor:""},{id:"CMBC",bankName:"中国民生银行",icon:"margin-left-5 font30 spp-minshengyinxing",bgColor:""},{id:"SDB",bankName:"深圳发展银行",icon:"margin-left-5 font30 spp-sdb",bgColor:""},{id:"GDB",bankName:"广东发展银行",icon:"margin-left-5 font30 spp-guangdongfazhanyinxing",bgColor:""},{id:"CITIC",bankName:"中信银行",icon:"margin-left-5 font30 spp-zhongxinyinxing",bgColor:"bank_c75056"},{id:"HXB",bankName:"华夏银行",icon:"margin-left-5 font30 spp-huaxiayinxing",bgColor:""},{id:"CIB",bankName:"兴业银行",icon:"spp-xingyeyinxing",bgColor:""},{id:"init-GZNCXYS",bankName:"广州市农村信用合作社",icon:"spp-guangzhoushinongcunxinyonghezuoshe",bgColor:""},{id:"init-GZSY",bankName:"广州市商业银行",icon:"spp-guangzhoushishangyeyinxing",bgColor:""},{id:"SRCB",bankName:"上海农村商业银行",icon:"spp-shanghainongshangyinxingyy-copy",bgColor:""},{id:"PSBC",bankName:"中国邮政储蓄",icon:"font30 spp-zhongguoyouzhengchuxu",bgColor:"bank_006a45"},{id:"CEB",bankName:"中国光大银行",icon:"margin-left-5 font30 spp-zhongguoguangdayinxing",bgColor:""},{id:"SHB",bankName:"上海银行",icon:"spp-iconcopy-copy",bgColor:""},{id:"BOB",bankName:"北京银行",icon:"margin-left-5 font30 spp-beijingyinxing",bgColor:""},{id:"CBHB",bankName:"渤海银行",icon:"font30 spp-bohaiyinxing",bgColor:"bank_ec6671"},{id:"init-BJNCSY",bankName:"北京农村商业银行",icon:"font30 spp-beijingnongcunshangyeyinxing",bgColor:""}]}}]).factory("validate",["dialog",function(a){return{form:function(b,c){var i,f,g,h,j,d={required:"请输入",phone:"手机号错误",phonecode:"手机验证码错误",userpwd:"密码由数字或字母组成（6-20位）",amount:"请输入正确的金额",email:"邮箱错误",idcard:"身份证错误",validatecode:"验证码错误"},e=["required","phone","phonecode","userpwd","amount","email","idcard","validatecode"];if(!b.$valid){if(0==b.$error.length)return!1;for(f="",g="",h="",j=0;j<e.length&&(h=e[j],i=b.$error[h],!(h&&i&&i.length>0));j++);switch(f=b.$error[h][0].$name,h){case"required":g=d[h]+c["message"][f];break;default:g=d[h]}a.tips(g)}return b.$valid},element:function(b,c){var i,g,h,j,d={required:"请输入",phone:"手机号错误",phonecode:"手机验证码错误",userpwd:"密码由数字或字母组成（6-20位）",amount:"请输入正确的金额",email:"邮箱错误",idcard:"身份证错误",validatecode:"验证码错误"},e=["required","phone","phonecode","userpwd","amount","email","idcard","validatecode"];if(!b.$valid){for(g="",h="",j=0;j<e.length&&(h=e[j],i=b.$error[h],!h||!i);j++);switch(h){case"required":g=d[h]+c;break;default:g=d[h]}a.tips(g)}return b.$valid},checkAmount:function(b,c){var d=/^(-)?(([1-9]{1}\d*)|([0]{1}))(\.(\d){1,2})?$/,e=d.test(b);return!e&&c&&a.tips("请输入正确的金额"),e},checkPhone:function(b,c){var d=/(13[0-9]|15[0-9]|18[0-9]|14[0-9]|17[0-9])\d{8}$/,e=d.test(b);return!e&&c&&a.tips("请输入正确的手机号"),e},checkPwd:function(b,c){var d=b&&6==b.length;return!d&&c&&a.tipsError("安全密码错误"),d}}}]).factory("dialog",["$timeout","$ionicPopup",function(a,b){var c=function(c,d){var e=b.tips(c);a(function(){e.close(),angular.isFunction(d)&&d()},2e3)};return{tipsError:function(a,b){c({template:a,popupCss:"tipsDialogError"},b)},tipsSuccess:function(a,b){c({template:a,popupCss:"tipsDialogSuccess"},b)},tips:function(a,b){c({template:a,popupCss:"tipsDialogError"},b)},alert:function(a,c,d){var e={title:a,okText:"确定",okFun:c};e=angular.extend(e,d),b.alert(e)},confirm:function(a,c,d,e){var f={title:"温馨提示",subTitle:"",template:a,templateUrl:"",cancelText:"取消",cancelType:"",okText:"确定",okType:"",popupCss:"ssp-confirm"};f=angular.extend(f,e),b.confirm(f).then(function(a){a?angular.isFunction(c)&&c():angular.isFunction(d)&&d()})},passWord:function(a,c,d,e,f){var g=b.prompt({popupCss:"pwd",title:"请输入安全密码",template:a,titleDesc:d,actDesc:c,inputType:"password",inputPlaceholder:"请输入安全密码",cancelText:"取消",cancelType:"",okText:f||"支付",okType:"",okTap:function(a){return e(a,g),"open"}})}}}]).factory("productAttr",["$ionicPopover","common",function(a){var c=function(a){var b={event:{hideClick:null}};this.set=angular.extend(b,a)};return c.prototype={set:{},fun:function(){var a=this,b=this.set;return{setDialog:function(b){a.dialog=b},show:function(b){a.dialog.show(b)},hide:function(c){angular.isFunction(b.event.hideClick)&&b.event.hideClick.call(a),angular.isFunction(a.dialog.hide)&&a.dialog.hide(c)}}},dialog:{},data:[]},{ProductAttr:function(b,d){var e=new c(b);return a.fromTemplateUrl("templates/common/productAttrPopover.html?v=1",{scope:d}).then(function(a){e.fun().setDialog(a)}),e}}}]).factory("popover",["$ionicPopover","$ionicScrollDelegate","$timeout","common","systemConstant",function(a,b,c,d,e){var f={},g={},h=function(b){var c={swiperName:"",dataUrl:"",data:null,templateUrl:"",scope:null,level:3,selectVal:"",event:{cancelFun:null,okFun:null}},e=this,h=this.set=angular.extend(c,b);this.selectData={},this.selectOKData={},this.data={},this.swiper={},g[h.swiperName]&&g[h.swiperName].remove(),a.fromTemplateUrl(h.templateUrl,{scope:h.scope}).then(function(a){g[h.swiperName]=a,e.dialog=a}),h.data&&(f[h.swiperName]=h.data),f[h.swiperName]?e.fun().initData(f[h.swiperName]):d.httpGet(h.dataUrl,{},function(a){f[h.swiperName]=a,e.fun().initData(a)})};return h.prototype={tool:{toArray:function(a){if(a){var b=[];return angular.forEach(a,function(a,c){a.data?(a.data.Id=c,b.push(a.data)):console.log(a)}),b}},getIndex:function(a,b){var d,c=-1;if(!a||!b||0==b.length)return c;for(d=0;d<b.length&&!(c>-1);d++)if(b[d].Id==a){c=d;break}return c}},fun:function(){var a=this,b=this.set,d=a.tool;return{initData:function(b){var c=[],d=[],e=[];c=a.tool.toArray(b),c&&c.length>0&&(d=a.tool.toArray(b[c[0].Id].child)),d&&d.length>0&&(e=a.tool.toArray(b[c[0].Id].child[d[0].Id].child)),a.data={1:c,2:d,3:e},a.selectData={1:c[0],2:d&&d[0],3:e&&e[0]}},showDialog:function(d){a.dialog.show(d),a.swiper[1]||c(function(){var d,e,f,g;for(d=1;d<=b.level;d++)!function(c){a.swiper[d]=new Swiper("."+b.swiperName+"swiper"+d,{slidesPerView:3,direction:"vertical",observer:!0,mousewheelControl:!0,spaceBetween:30,onSlideChangeEnd:function(b){a.fun().changeData(b.activeIndex,c)}})}(d);e=b.selectVal,e&&(f=e.split(","),g={1:{Id:parseInt(f[0])},2:{Id:parseInt(f[1])},3:{Id:parseInt(f[2])}},a.selectOKData=angular.extend({},g),a.fun().selectItem(g),c(function(){var b=a.selectOKData;b["1"]&&b["1"].Id&&!b["1"].Name&&(b["1"]=a.data["1"][a.tool.getIndex(b["1"].Id,a.data["1"])]),b["2"]&&b["2"].Id&&!b["2"].Name&&(b["2"]=a.data["2"][a.tool.getIndex(b["2"].Id,a.data["2"])]),b["3"]&&b["3"].Id&&!b["3"].Name&&(b["3"]=a.data["3"][a.tool.getIndex(b["3"].Id,a.data["3"])]),a.selectData=angular.extend({},b)}))})},hideDialog:function(b){a.dialog.hide(b)},setDialog:function(b){a.dialog=b},setData:function(e){if(!(e>=b.level)){var g=a.selectData["1"].Id,h=parseInt(e)+1,i=f[b.swiperName][g],j=[];switch(e){case 1:j=i&&i.child?d.toArray(i.child):[];break;case 2:j=a.selectData[2]&&i.child?d.toArray(i.child[a.selectData[2].Id].child):[]}a.data[h]=j,a.selectData[h]=j[0],c(function(){a.swiper[h].slideTo(0,100,!1),c(function(){a.fun().changeData(0,h)})})}},changeData:function(d,e){e<b.level+1&&e>0&&c(function(){a.selectData[e]=a.data[e][d],a.fun().setData(e)})},selectItem:function(d){var e,g,h,i,j,k,l,m,n,o;d&&d["1"]&&d["1"].Id&&(e=a.selectData,g=","+d["1"].Id+","+(d["2"]&&d["2"].Id)+","+(d["3"]&&d["3"].Id)+",",h=","+(e&&e["1"].Id)+","+(e&&e["2"]&&e["2"].Id)+","+(e&&e["3"]&&e["3"].Id)+",",g!=h&&(a.selectData=angular.extend(e,d),i=f[b.swiperName][d["1"].Id].child,j=a.data["1"],k=a.tool.toArray(i),l=d["2"]&&d["2"].Id?a.tool.toArray(i[d["2"].Id].child):[],m=a.tool.getIndex(d["1"].Id,j),n=d["2"]?a.tool.getIndex(d["2"].Id,k):0,o=d["3"]?a.tool.getIndex(d["3"].Id,l):0,c(function(){a.data["2"]=k,a.data["3"]=l,c(function(){a.swiper[1].slideTo(m,100,!1),a.set.level>1&&a.swiper[2].slideTo(n,100,!1),a.set.level>2&&a.swiper[3].slideTo(o,100,!1)})})))},getText:function(){var f,c=a.selectOKData,d="";if(!c)return d;for(f=1;f<=b.level;f++)d+=c[f]&&c[f].Name?c[f].Name+",":"";return d=d.substr(0,d.length-1)},getlaseId:function(){var e,c=a.selectOKData,d="";if(!c)return d;for(e=b.level;e>0&&!d;e--)c[e]&&c[e].Id&&c[e].IsEnd&&(d=c[e].Id);return d},isSelectItem:function(){return a.selectOKData&&a.selectOKData[1]&&a.selectOKData[1].Id},cancel:function(c){angular.isFunction(b.event.cancelFun)&&b.event.cancelFun(),this.selectItem(a.selectOKData),this.hideDialog(c)},ok:function(c){a.selectOKData=angular.extend({},a.selectData),angular.isFunction(b.event.okFun)&&b.event.okFun(),this.hideDialog(c)}}}},{date:function(a,b,c){var d,e,g;return b||(b="2017-02-28"),d=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(a&&(a=a,b=a.split("-"),b&&3==b.length)){for(c="2016-10-01",d=c.split("-"),e=parseInt(d[0]),f=parseInt(b[0]),g=parseInt(d[1]),h=parseInt(b[1]),i=parseInt(d[2]),j=parseInt(b[2]),k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s={},t={},u={},v=function(a,b){var c=new Date;return c.setFullYear(a),c.setMonth(b),c.setDate(0),c.getDate()},w=function(a){return 10>a?"0"+a:a>9?a:0},x=e;f>=x;x++){for(q=x,k=1,l=12,t={},q==e&&(k=g),q==f&&(l=h),y=k;l>=y;y++){for(r=y,n=1,s={},o=v(q,r),q==e&&r==g&&(n=i),q==f&&r==h&&(o=j),z=n;o>=z;z++)p=w(z),s[z]={data:{Name:p,IsEnd:!0}};m=w(y),t[y]={data:{Name:m},child:s}}u[q]={data:{Name:q},child:t}}return u}},e={swiperName:"date",data:d(b),templateUrl:"html/templates/datepopover.html?v=1151",scope:a},c=angular.extend(e,c),g=new h(c),g.changeDataSource=function(a){var b=d(a);f[c.swiperName]=b,g.fun().initData(b)},g},city:function(a,b){var d,c={swiperName:"city",dataUrl:e.dataSource.city,templateUrl:"html/templates/citypopover.html?v=1151",scope:a};return b=angular.extend(c,b),d=new h(b)},industries:function(a,b){var d,c={swiperName:"industries",dataUrl:e.dataSource.industries,templateUrl:"html/templates/industriespopover.html?v=1151",scope:a};return b=angular.extend(c,b),d=new h(b)},maxDailySales:function(a,b){var d,c={swiperName:"maxDailySales",level:1,dataUrl:e.dataSource.maxDailySales,templateUrl:"html/templates/maxDailySalespopover.html?v=1151",scope:a};return b=angular.extend(c,b),d=new h(b)},confirm:function(b){a.fromTemplateUrl("html/templates/confirmpopover.html?v=1151",{scope:b}).then(function(){})},passWord:function(){}}}]).factory("page",["$ionicLoading","$timeout","$ionicScrollDelegate","userInfo","common",function(a,b,c,d,e){var f=function(a){var b={url:"",initData:"",dataFiled:"",parame:{},initNoResultShow:!0,upNoResultShow:!0,downNoResultShow:!0,page:{pageIndex:0,pageSize:30}};this.set=angular.extend(b,a)};return f.prototype={getpageData:function(c,d){var f=this.set,g={};return f.page.pageIndex++,g=angular.extend(f.parame,f.page),c&&a.show(),e.httpGet(f.url,g,function(a){var b=a;f.dataFiled&&(b=a[f.dataFiled]),f.initNoResultShow=1==f.page.pageIndex&&(!b||0==b.length),f.upNoResultShow=!b||b.length<f.page.pageSize,angular.isFunction(f.initData)&&a&&f.initData(a,d)},null,null,!0).then(function(){c?a.hide():b(function(){f.scope.$broadcast("scroll.infiniteScrollComplete")},1e3)})},up:function(){this.getpageData(!1,!1)},pageInit:function(){this.getpageData(!0,!1)},reload:function(){this.set.page.pageIndex=0,this.getpageData(!1,!0),c.scrollTop(!0)},initNoResultShow:function(){return this.set.initNoResultShow},upNoResultShow:function(){return this.set.upNoResultShow}},{page:function(a){return new f(a)}}}]).factory("uploadImg",["$timeout","$ionicLoading","Upload","dialog","systemConstant","weixin","browser",function(a,b,c,d,e,f){var i,h=function(a){var b={single:!1,filesCount:4,maxSize:50,filesPattern:".jpg,.jpge,.png,.gif,.jpeg",data:{}};this.set=angular.extend(b,a),this.files=[],this.imgchange=function(){}};return h.prototype={validate:function(a){var b=this.set,c=!0,e=!0,f=0,g=this.files,h="",i=function(a){var b=a.lastIndexOf("."),c=a.substr(b);return c};return a&&a.length?(angular.forEach(g,function(){f++}),!b.single&&f+a.length>b.filesCount?(d.tips("最多只能上传"+b.filesCount+"张图片"),!1):(angular.forEach(a,function(a){c&&a.type&&-1==b.filesPattern.toUpperCase().indexOf(i(a.name).toUpperCase())&&(h+=a.name+";<br/>",c=!1),e&&a.size>1048576*b.maxSize&&(e=!1)}),c?e?!0:(d.tips("不可上传大于"+b.maxSize+"M的图片"),!1):(d.tips("当前格式"+h+",只能上传"+b.filesPattern+"格式的图片"),!1))):!1},removeFile:function(){this.files={}},compress:function(a,b){var f,g,d=document.createElement("canvas");return d.width=a.naturalWidth,d.height=a.naturalHeight,d.getContext("2d").drawImage(a,0,0),f=d.toDataURL(mime_type,b/100),g=new Image,g.src=f,g},addFile:function(a){var i,j,k,f=this.set,g=this,h=function(a,h){var i=f.data||{};i["file"]=a,i["username"]=h,b.show(),c.upload({url:"http://"+e.apiDomain+"/api/AliyunOss/UploadOss",data:i}).then(function(a){console.log(a),b.hide(),a&&a.data&&a.data.flag?(f.single?(g.files=[],g.files.push({imgUrl:a.data.data})):g.files.push({imgUrl:a.data.data}),g.imgchange()):d.tips("上传失败")},function(){b.hide(),d.tips("上传失败")},function(){})};if(!this.validate(a))return!1;for(i=0;i<a.length;i++)j=a[i],k=j.username,j.$error||lrz(j).then(function(a){console.log(a),h(a.file,k)}).catch(function(a){d.tipsError(a),h(j,k)}).always(function(){})}},i=function(a){var b={single:!1,filesCount:4,filesPattern:".jpg,.jpge,.png,.gif,.jpeg",data:{}},c=f.weiXin();c.init(),this.set=angular.extend(b,a),this.weixin=c,this.files=[]},i.prototype={validate:function(){var a=this.set,b=0,c=this.files;return angular.forEach(c,function(){b++}),!a.single&&b+files.length>a.filesCount?(d.tips("最多只能上传"+a.filesCount+"张图片"),!1):!0},addFile:function(){var a=this.set,c=(a.data||{},this);return this.validate(files)?(this.weixin.uploadImg(function(b){alert(b),a.single?(c.files=[],c.files.push({imgUrl:b})):c.files.push({imgUrl:b}),c.imgchange()}),void 0):!1},imgchange:function(){}},{uploadImg:function(a){return new h(a)}}}]).factory("systemConfig",["common","systemConstant",function(a,b){return{sendsalesmanactivatesmscode:function(b,c,d){return a.httpPost("/api/shopauthorizesales/sendsalesmanactivatesmscode",{authorizeCode:b,phone:c},d)},getValidateCode:function(a){return"http://"+b.apiDomain+"/api/Comm/ImgCode?imgGuiCode="+a+"&d="+new Date},registerSmsCode:function(b,c,d,e,f){return a.httpGet("/api/Comm/RegisterSmsCode",{imgCode:c,phoneNumber:b,imgGuiCode:d},e,f)},getServerTime:function(b){return a.httpGet("/api/comm/GetServerTime",{},b)}}}]).factory("browser",["systemConstant",function(a){return{isWeiXin:function(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1},isAplipay:function(){var a=navigator.userAgent.toLowerCase();return"aplipay"==a.match(/aplipay/i)?!0:!1},isApp:function(){return a.isApp},getsource:function(){var b=0;return b=this.isApp()?"ios"==a.platform?3:2:this.isWeiXin()?1:4}}}]).factory("weixin",["common","systemConstant","dialog","browser",function(a,b,c){var e=function(a){var b={url:location.href.split("#")[0],code:""};this.set=angular.extend(b,a),"0"==this.set.code&&(this.set.code=""),this.setweixin=!1};return e.prototype={set:{},init:function(b){var d=this.set,e=this;e.setweixin||a.httpGet("/api/WeiXin/referrerwinxinjsconfig",{url:d.url},function(a){wx.config({debug:!1,appId:a["appId"],timestamp:a["timestamp"],nonceStr:a["nonceStr"],signature:a["signature"],jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]}),wx.ready(function(){angular.isFunction(b)&&b(),angular.isObject(b)&&angular.forEach(b,function(a){a()}),e.setweixin=!0}),wx.error(function(a){c.tipsError(JSON.stringify(a))})})},scane:function(a){wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(b){var c=b.resultStr;angular.isFunction(a)&&a(c)}})},share:function(a){var b={title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}},c=angular.extend(b,a);wx.onMenuShareTimeline(c),wx.onMenuShareAppMessage(c),wx.onMenuShareQQ(c),wx.onMenuShareWeibo(c),wx.onMenuShareQZone(c)},uploadImg:function(b){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(c){var d=c.localIds;wx.uploadImage({localId:d[0],isShowProgressTips:1,success:function(c){var e=c.serverId;a.httpGet("/api/AliyunOss/UpLoadOssByWeiXinMediaId",{mediaId:e,fileName:d+"_"+e+".jpg"},function(a,c){angular.isFunction(b)&&b(d[0],e,c)})}})}})},getLocation:function(a){wx.getLocation({type:"wgs84",success:function(b){angular.isFunction(a)&&a(b)}})}},{weiXin:function(a){return new e(a)},getCode:function(){}}}]).factory("bank",["common",function(a){var b={DC:"储蓄卡",CC:"信用卡",SCC:"准贷记卡",PC:"预付费卡"},c=[{bankName:"中国邮政储蓄银行",bankCode:"PSBC",patterns:[{reg:/^(621096|621098|622150|622151|622181|622188|622199|955100|621095|620062|621285|621798|621799|621797|620529|621622|621599|621674|623218|623219)\d{13}$/g,cardType:"DC"},{reg:/^(62215049|62215050|62215051|62218850|62218851|62218849)\d{11}$/g,cardType:"DC"},{reg:/^(622812|622810|622811|628310|625919)\d{10}$/g,cardType:"CC"}]},{bankName:"中国工商银行",bankCode:"ICBC",patterns:[{reg:/^(620200|620302|620402|620403|620404|620406|620407|620409|620410|620411|620412|620502|620503|620405|620408|620512|620602|620604|620607|621151|620612|620704|620706|620707|620708|620709|620710|620609|620712|620713|620714|620802|620711|620904|620905|621001|620902|621103|621105|621106|621107|621102|621203|621204|621205|621206|621207|621208|621209|621210|621302|621303|621202|621305|621306|621307|621309|621311|621313|621211|621315|621304|621402|621404|621405|621406|621407|621408|621409|621410|621502|621317|621511|621602|621603|621604|621605|621608|621609|621610|621611|621612|621613|621614|621615|621616|621617|621607|621606|621804|621807|621813|621814|621817|621901|621904|621905|621906|621907|621908|621909|621910|621911|621912|621913|621915|622002|621903|622004|622005|622006|622007|622008|622010|622011|622012|621914|622015|622016|622003|622018|622019|622020|622102|622103|622104|622105|622013|622111|622114|622017|622110|622303|622304|622305|622306|622307|622308|622309|622314|622315|622317|622302|622402|622403|622404|622313|622504|622505|622509|622513|622517|622502|622604|622605|622606|622510|622703|622715|622806|622902|622903|622706|623002|623006|623008|623011|623012|622904|623015|623100|623202|623301|623400|623500|623602|623803|623901|623014|624100|624200|624301|624402|623700|624000)\d{12}$/g,cardType:"DC"},{reg:/^(622200|622202|622203|622208|621225|620058|621281|900000|621558|621559|621722|621723|620086|621226|621618|620516|621227|621288|621721|900010|623062|621670|621720|621379|621240|621724|621762|621414|621375|622926|622927|622928|622929|622930|622931|621733|621732|621372|621369|621763)\d{13}$/g,cardType:"DC"},{reg:/^(402791|427028|427038|548259|621376|621423|621428|621434|621761|621749|621300|621378|622944|622949|621371|621730|621734|621433|621370|621764|621464|621765|621750|621377|621367|621374|621731|621781)\d{10}$/g,cardType:"DC"},{reg:/^(9558)\d{15}$/g,cardType:"DC"},{reg:/^(370246|370248|370249|370247|370267|374738|374739)\d{9}$/g,cardType:"CC"},{reg:/^(427010|427018|427019|427020|427029|427030|427039|438125|438126|451804|451810|451811|458071|489734|489735|489736|510529|427062|524091|427064|530970|530990|558360|524047|525498|622230|622231|622232|622233|622234|622235|622237|622239|622240|622245|622238|451804|451810|451811|458071|628288|628286|622206|526836|513685|543098|458441|622246|544210|548943|356879|356880|356881|356882|528856|625330|625331|625332|622236|524374|550213|625929|625927|625939|625987|625930|625114|622159|625021|625022|625932|622889|625900|625915|625916|622171|625931|625113|625928|625914|625986|625925|625921|625926|625942|622158|625917|625922|625934|625933|625920|625924|625017|625018|625019)\d{10}$/g,cardType:"CC"},{reg:/^(45806|53098|45806|53098)\d{11}$/g,cardType:"CC"},{reg:/^(622210|622211|622212|622213|622214|622220|622223|622225|622229|622215|622224)\d{10}$/g,cardType:"SCC"},{reg:/^(620054|620142|620184|620030|620050|620143|620149|620124|620183|620094|620186|620148|620185)\d{10}$/g,cardType:"PC"},{reg:/^(620114|620187|620046)\d{13}$/g,cardType:"PC"}]},{bankName:"中国农业银行",bankCode:"ABC",patterns:[{reg:/^(622841|622824|622826|622848|620059|621282|622828|622823|621336|621619|622821|622822|622825|622827|622845|622849|623018|623206|621671|622840|622843|622844|622846|622847|620501)\d{13}$/g,cardType:"DC"},{reg:/^(95595|95596|95597|95598|95599)\d{14}$/g,cardType:"DC"},{reg:/^(103)\d{16}$/g,cardType:"DC"},{reg:/^(403361|404117|404118|404119|404120|404121|463758|519412|519413|520082|520083|552599|558730|514027|622836|622837|628268|625996|625998|625997|622838|625336|625826|625827|544243|548478|628269)\d{10}$/g,cardType:"CC"},{reg:/^(622820|622830)\d{10}$/g,cardType:"SCC"}]},{bankName:"中国银行",bankCode:"BOC",patterns:[{reg:/^(621660|621661|621662|621663|621665|621667|621668|621669|621666|456351|601382|621256|621212|621283|620061|621725|621330|621331|621332|621333|621297|621568|621569|621672|623208|621620|621756|621757|621758|621759|621785|621786|621787|621788|621789|621790|622273|622274|622771|622772|622770|621741|621041)\d{13}$/g,cardType:"DC"},{reg:/^(621293|621294|621342|621343|621364|621394|621648|621248|621215|621249|621231|621638|621334|621395|623040|622348)\d{10}$/g,cardType:"DC"},{reg:/^(625908|625910|625909|356833|356835|409665|409666|409668|409669|409670|409671|409672|512315|512316|512411|512412|514957|409667|438088|552742|553131|514958|622760|628388|518377|622788|628313|628312|622750|622751|625145|622479|622480|622789|625140|622346|622347)\d{10}$/g,cardType:"CC"},{reg:/^(518378|518379|518474|518475|518476|524865|525745|525746|547766|558868|622752|622753|622755|524864|622757|622758|622759|622761|622762|622763|622756|622754|622764|622765|558869|625905|625906|625907|625333)\d{10}$/g,cardType:"SCC"},{reg:/^(53591|49102|377677)\d{11}$/g,cardType:"SCC"},{reg:/^(620514|620025|620026|620210|620211|620019|620035|620202|620203|620048|620515|920000)\d{10}$/g,cardType:"PC"},{reg:/^(620040|620531|620513|921000|620038)\d{13}$/g,cardType:"PC"}]},{bankName:"中国建设银行",bankCode:"CCB",patterns:[{reg:/^(621284|436742|589970|620060|621081|621467|621598|621621|621700|622280|622700|623211|623668)\d{13}$/g,cardType:"DC"},{reg:/^(421349|434061|434062|524094|526410|552245|621080|621082|621466|621488|621499|622966|622988|622382|621487|621083|621084|620107)\d{10}$/g,cardType:"DC"},{reg:/^(436742193|622280193)\d{10}$/g,cardType:"DC"},{reg:/^(553242)\d{12}$/g,cardType:"CC"},{reg:/^(625362|625363|628316|628317|356896|356899|356895|436718|436738|436745|436748|489592|531693|532450|532458|544887|552801|557080|558895|559051|622166|622168|622708|625964|625965|625966|628266|628366|622381|622675|622676|622677)\d{10}$/g,cardType:"CC"},{reg:/^(5453242|5491031|5544033)\d{11}$/g,cardType:"CC"},{reg:/^(622725|622728|436728|453242|491031|544033|622707|625955|625956)\d{10}$/g,cardType:"SCC"},{reg:/^(53242|53243)\d{11}$/g,cardType:"SCC"}]},{bankName:"中国交通银行",bankCode:"COMM",patterns:[{reg:/^(622261|622260|622262|621002|621069|621436|621335)\d{13}$/g,cardType:"DC"},{reg:/^(620013)\d{10}$/g,cardType:"DC"},{reg:/^(405512|601428|405512|601428|622258|622259|405512|601428)\d{11}$/g,cardType:"DC"},{reg:/^(49104|53783)\d{11}$/g,cardType:"CC"},{reg:/^(434910|458123|458124|520169|522964|552853|622250|622251|521899|622253|622656|628216|622252|955590|955591|955592|955593|628218|625028|625029)\d{10}$/g,cardType:"CC"},{reg:/^(622254|622255|622256|622257|622284)\d{10}$/g,cardType:"SCC"},{reg:/^(620021|620521)\d{13}$/g,cardType:"PC"}]},{bankName:"招商银行",bankCode:"CMB",patterns:[{reg:/^(402658|410062|468203|512425|524011|622580|622588|622598|622609|95555|621286|621483|621485|621486|621299)\d{10}$/g,cardType:"DC"},{reg:/^(690755)\d{9}$/g,cardType:"DC"},{reg:/^(690755)\d{12}$/g,cardType:"DC"},{reg:/^(356885|356886|356887|356888|356890|439188|439227|479228|479229|521302|356889|545620|545621|545947|545948|552534|552587|622575|622576|622577|622578|622579|545619|622581|622582|545623|628290|439225|518710|518718|628362|439226|628262|625802|625803)\d{10}$/g,cardType:"CC"},{reg:/^(370285|370286|370287|370289)\d{9}$/g,cardType:"CC"},{reg:/^(620520)\d{13}$/g,cardType:"PC"}]},{bankName:"中国民生银行",bankCode:"CMBC",patterns:[{reg:/^(622615|622616|622618|622622|622617|622619|415599|421393|421865|427570|427571|472067|472068|622620)\d{10}$/g,cardType:"DC"},{reg:/^(545392|545393|545431|545447|356859|356857|407405|421869|421870|421871|512466|356856|528948|552288|622600|622601|622602|517636|622621|628258|556610|622603|464580|464581|523952|545217|553161|356858|622623|625912|625913|625911)\d{10}$/g,cardType:"CC"},{reg:/^(377155|377152|377153|377158)\d{9}$/g,cardType:"CC"}]},{bankName:"中国光大银行",bankCode:"CEB",patterns:[{reg:/^(303)\d{13}$/g,cardType:"DC"},{reg:/^(90030)\d{11}$/g,cardType:"DC"},{reg:/^(620535)\d{13}$/g,cardType:"DC"},{reg:/^(620085|622660|622662|622663|622664|622665|622666|622667|622669|622670|622671|622672|622668|622661|622674|622673|620518|621489|621492)\d{10}$/g,cardType:"DC"},{reg:/^(356837|356838|486497|622657|622685|622659|622687|625978|625980|625981|625979|356839|356840|406252|406254|425862|481699|524090|543159|622161|622570|622650|622655|622658|625975|625977|628201|628202|625339|625976)\d{10}$/g,cardType:"CC"}]},{bankName:"中信银行",bankCode:"CITIC",patterns:[{reg:/^(433670|433680|442729|442730|620082|622690|622691|622692|622696|622698|622998|622999|433671|968807|968808|968809|621771|621767|621768|621770|621772|621773|622453|622456)\d{10}$/g,cardType:"DC"},{reg:/^(622459)\d{11}$/g,cardType:"DC"},{reg:/^(376968|376969|376966)\d{9}$/g,cardType:"CC"},{reg:/^(400360|403391|403392|404158|404159|404171|404172|404173|404174|404157|433667|433668|433669|514906|403393|520108|433666|558916|622678|622679|622680|622688|622689|628206|556617|628209|518212|628208|356390|356391|356392|622916|622918|622919)\d{10}$/g,cardType:"CC"}]},{bankName:"华夏银行",bankCode:"HXBANK",patterns:[{reg:/^(622630|622631|622632|622633|999999|621222|623020|623021|623022|623023)\d{10}$/g,cardType:"DC"},{reg:/^(523959|528709|539867|539868|622637|622638|628318|528708|622636|625967|625968|625969)\d{10}$/g,cardType:"CC"}]},{bankName:"深发/平安银行",bankCode:"SPABANK",patterns:[{reg:/^(621626|623058)\d{13}$/g,cardType:"DC"},{reg:/^(602907|622986|622989|622298|627069|627068|627066|627067|412963|415752|415753|622535|622536|622538|622539|998800|412962|622983)\d{10}$/g,cardType:"DC"},{reg:/^(531659|622157|528020|622155|622156|526855|356869|356868|625360|625361|628296|435744|435745|483536|622525|622526|998801|998802)\d{10}$/g,cardType:"CC"},{reg:/^(620010)\d{10}$/g,cardType:"PC"}]},{bankName:"兴业银行",bankCode:"CIB",patterns:[{reg:/^(438589)\d{12}$/g,cardType:"DC"},{reg:/^(90592)\d{11}$/g,cardType:"DC"},{reg:/^(966666|622909|438588|622908)\d{12}$/g,cardType:"DC"},{reg:/^(461982|486493|486494|486861|523036|451289|527414|528057|622901|622902|622922|628212|451290|524070|625084|625085|625086|625087|548738|549633|552398|625082|625083|625960|625961|625962|625963)\d{10}$/g,cardType:"CC"},{reg:/^(620010)\d{10}$/g,cardType:"PC"}]},{bankName:"上海银行",bankCode:"SHBANK",patterns:[{reg:/^(621050|622172|622985|622987|620522|622267|622278|622279|622468|622892|940021)\d{12}$/g,cardType:"DC"},{reg:/^(438600)\d{10}$/g,cardType:"DC"},{reg:/^(356827|356828|356830|402673|402674|486466|519498|520131|524031|548838|622148|622149|622268|356829|622300|628230|622269|625099|625953)\d{10}$/g,cardType:"CC"}]},{bankName:"浦东发展银行",bankCode:"SPDB",patterns:[{reg:/^(622516|622517|622518|622521|622522|622523|984301|984303|621352|621793|621795|621796|621351|621390|621792|621791)\d{10}$/g,cardType:"DC"},{reg:/^(84301|84336|84373|84385|84390|87000|87010|87030|87040|84380|84361|87050|84342)\d{11}$/g,cardType:"DC"},{reg:/^(356851|356852|404738|404739|456418|498451|515672|356850|517650|525998|622177|622277|628222|622500|628221|622176|622276|622228|625957|625958|625993|625831)\d{10}$/g,cardType:"CC"},{reg:/^(622520|622519)\d{10}$/g,cardType:"SCC"},{reg:/^(621151)\d{13}$/g,cardType:"PC"}]},{bankName:"广发银行",bankCode:"GDB",patterns:[{reg:/^(622516|622517|622518|622521|622522|622523|984301|984303|621352|621793|621795|621796|621351|621390|621792|621791)\d{10}$/g,cardType:"DC"},{reg:/^(622568|6858001|6858009|621462)\d{13}$/g,cardType:"DC"},{reg:/^(9111)\d{15}$/g,cardType:"DC"},{reg:/^(406365|406366|428911|436768|436769|436770|487013|491032|491033|491034|491035|491036|491037|491038|436771|518364|520152|520382|541709|541710|548844|552794|493427|622555|622556|622557|622558|622559|622560|528931|558894|625072|625071|628260|628259|625805|625806|625807|625808|625809|625810)\d{10}$/g,cardType:"CC"},{reg:/^(685800|6858000)\d{13}$/g,cardType:"CC"}]},{bankName:"渤海银行",bankCode:"BOHAIB",patterns:[{reg:/^(621268|622684|622884|621453)\d{10}$/g,cardType:"DC"}]},{bankName:"广州银行",bankCode:"GCB",patterns:[{reg:/^(603445|622467|940016|621463)\d{13}$/g,cardType:"DC"}]},{bankName:"金华银行",bankCode:"JHBANK",patterns:[{reg:/^(622449|940051)\d{10}$/g,cardType:"DC"},{reg:/^(622450|628204)\d{10}$/g,cardType:"CC"}]},{bankName:"温州银行",bankCode:"WZCB",patterns:[{reg:/^(621977)\d{10}$/g,cardType:"DC"},{reg:/^(622868|622899|628255)\d{10}$/g,cardType:"CC"}]},{bankName:"徽商银行",bankCode:"HSBANK",patterns:[{reg:/^(622877|622879|621775|623203)\d{13}$/g,cardType:"DC"},{reg:/^(603601|622137|622327|622340|622366)\d{11}$/g,cardType:"DC"},{reg:/^(628251|622651|625828)\d{10}$/g,cardType:"CC"}]},{bankName:"江苏银行",bankCode:"JSBANK",patterns:[{reg:/^(621076|622173|622131|621579|622876)\d{13}$/g,cardType:"DC"},{reg:/^(504923|622422|622447|940076)\d{10}$/g,cardType:"DC"},{reg:/^(628210|622283|625902)\d{10}$/g,cardType:"CC"}]},{bankName:"南京银行",bankCode:"NJCB",patterns:[{reg:/^(621777|622305|621259)\d{10}$/g,cardType:"DC"},{reg:/^(622303|628242|622595|622596)\d{10}$/g,cardType:"CC"}]},{bankName:"宁波银行",bankCode:"NBBANK",patterns:[{reg:/^(621279|622281|622316|940022)\d{10}$/g,cardType:"DC"},{reg:/^(621418)\d{13}$/g,cardType:"DC"},{reg:/^(625903|622778|628207|512431|520194|622282|622318)\d{10}$/g,cardType:"CC"}]},{bankName:"北京银行",bankCode:"BJBANK",patterns:[{reg:/^(623111|421317|422161|602969|422160|621030|621420|621468)\d{10}$/g,cardType:"DC"},{reg:/^(522001|622163|622853|628203|622851|622852)\d{10}$/g,cardType:"CC"}]},{bankName:"北京农村商业银行",bankCode:"BJRCB",patterns:[{reg:/^(620088|621068|622138|621066|621560)\d{13}$/g,cardType:"DC"},{reg:/^(625526|625186|628336)\d{10}$/g,cardType:"CC"}]},{bankName:"汇丰银行",bankCode:"HSBC",patterns:[{reg:/^(622946)\d{10}$/g,cardType:"DC"},{reg:/^(622406|621442)\d{11}$/g,cardType:"DC"},{reg:/^(622407|621443)\d{13}$/g,cardType:"DC"},{reg:/^(622360|622361|625034|625096|625098)\d{10}$/g,cardType:"CC"}]},{bankName:"渣打银行",bankCode:"SCB",patterns:[{reg:/^(622948|621740|622942|622994)\d{10}$/g,cardType:"DC"},{reg:/^(622482|622483|622484)\d{10}$/g,cardType:"CC"}]},{bankName:"花旗银行",bankCode:"CITI",patterns:[{reg:/^(621062|621063)\d{10}$/g,cardType:"DC"},{reg:/^(625076|625077|625074|625075|622371|625091)\d{10}$/g,cardType:"CC"}]},{bankName:"东亚银行",bankCode:"HKBEA",patterns:[{reg:/^(622933|622938|623031|622943|621411)\d{13}$/g,cardType:"DC"},{reg:/^(622372|622471|622472|622265|622266|625972|625973)\d{10}$/g,cardType:"CC"},{reg:/^(622365)\d{11}$/g,cardType:"CC"}]},{bankName:"广东华兴银行",bankCode:"GHB",patterns:[{reg:/^(621469|621625)\d{13}$/g,cardType:"DC"}]},{bankName:"深圳农村商业银行",bankCode:"SRCB",patterns:[{reg:/^(622128|622129|623035)\d{10}$/g,cardType:"DC"}]},{bankName:"广州农村商业银行股份有限公司",bankCode:"GZRCU",patterns:[{reg:/^(909810|940035|621522|622439)\d{12}$/g,cardType:"DC"}]},{bankName:"东莞农村商业银行",bankCode:"DRCBCL",patterns:[{reg:/^(622328|940062|623038)\d{13}$/g,cardType:"DC"},{reg:/^(625288|625888)\d{10}$/g,cardType:"CC"}]},{bankName:"东莞市商业银行",bankCode:"BOD",patterns:[{reg:/^(622333|940050)\d{10}$/g,cardType:"DC"},{reg:/^(621439|623010)\d{13}$/g,cardType:"DC"},{reg:/^(622888)\d{10}$/g,cardType:"CC"}]},{bankName:"广东省农村信用社联合社",bankCode:"GDRCC",patterns:[{reg:/^(622302)\d{10}$/g,cardType:"DC"},{reg:/^(622477|622509|622510|622362|621018|621518)\d{13}$/g,cardType:"DC"}]},{bankName:"大新银行",bankCode:"DSB",patterns:[{reg:/^(622297|621277)\d{10}$/g,cardType:"DC"},{reg:/^(622375|622489)\d{11}$/g,cardType:"DC"},{reg:/^(622293|622295|622296|622373|622451|622294|625940)\d{10}$/g,cardType:"CC"}]},{bankName:"永亨银行",bankCode:"WHB",patterns:[{reg:/^(622871|622958|622963|622957|622861|622932|622862|621298)\d{10}$/g,cardType:"DC"},{reg:/^(622798|625010|622775|622785)\d{10}$/g,cardType:"CC"}]},{bankName:"星展银行香港有限公司",bankCode:"DBS",patterns:[{reg:/^(621016|621015)\d{13}$/g,cardType:"DC"},{reg:/^(622487|622490|622491|622492)\d{10}$/g,cardType:"DC"},{reg:/^(622487|622490|622491|622492|621744|621745|621746|621747)\d{11}$/g,cardType:"DC"}]},{bankName:"恒丰银行",bankCode:"EGBANK",patterns:[{reg:/^(623078)\d{13}$/g,cardType:"DC"},{reg:/^(622384|940034)\d{11}$/g,cardType:"DC"}]},{bankName:"天津市商业银行",bankCode:"TCCB",patterns:[{reg:/^(940015|622331)\d{12}$/g,cardType:"DC"},{reg:/^(6091201)\d{11}$/g,cardType:"DC"},{reg:/^(622426|628205)\d{10}$/g,cardType:"CC"}]},{bankName:"浙商银行",bankCode:"CZBANK",patterns:[{reg:/^(621019|622309|621019)\d{13}$/g,cardType:"DC"},{reg:/^(6223091100|6223092900|6223093310|6223093320|6223093330|6223093370|6223093380|6223096510|6223097910)\d{9}$/g,cardType:"DC"}]},{bankName:"南洋商业银行",bankCode:"NCB",patterns:[{reg:/^(621213|621289|621290|621291|621292|621042|621743)\d{13}$/g,cardType:"DC"},{reg:/^(623041|622351)\d{10}$/g,cardType:"DC"},{reg:/^(625046|625044|625058|622349|622350)\d{10}$/g,cardType:"CC"},{reg:/^(620208|620209|625093|625095)\d{10}$/g,cardType:"PC"}]},{bankName:"厦门银行",bankCode:"XMBANK",patterns:[{reg:/^(622393|940023)\d{10}$/g,cardType:"DC"},{reg:/^(6886592)\d{11}$/g,cardType:"DC"},{reg:/^(623019|621600|)\d{13}$/g,cardType:"DC"}]},{bankName:"福建海峡银行",bankCode:"FJHXBC",patterns:[{reg:/^(622388)\d{10}$/g,cardType:"DC"},{reg:/^(621267|623063)\d{12}$/g,cardType:"DC"},{reg:/^(620043|)\d{12}$/g,cardType:"PC"}]},{bankName:"吉林银行",bankCode:"JLBANK",patterns:[{reg:/^(622865|623131)\d{13}$/g,cardType:"DC"},{reg:/^(940012)\d{10}$/g,cardType:"DC"},{reg:/^(622178|622179|628358)\d{10}$/g,cardType:"CC"}]},{bankName:"汉口银行",bankCode:"HKB",patterns:[{reg:/^(990027)\d{12}$/g,cardType:"DC"},{reg:/^(622325|623105|623029)\d{10}$/g,cardType:"DC"}]},{bankName:"盛京银行",bankCode:"SJBANK",patterns:[{reg:/^(566666)\d{12}$/g,cardType:"DC"},{reg:/^(622455|940039)\d{13}$/g,cardType:"DC"},{reg:/^(623108|623081)\d{10}$/g,cardType:"DC"},{reg:/^(622466|628285)\d{10}$/g,cardType:"CC"}]},{bankName:"大连银行",bankCode:"DLB",patterns:[{reg:/^(603708)\d{11}$/g,cardType:"DC"},{reg:/^(622993|623069|623070|623172|623173)\d{13}$/g,cardType:"DC"},{reg:/^(622383|622385|628299)\d{10}$/g,cardType:"CC"}]},{bankName:"河北银行",bankCode:"BHB",patterns:[{reg:/^(622498|622499|623000|940046)\d{13}$/g,cardType:"DC"},{reg:/^(622921|628321)\d{10}$/g,cardType:"CC"}]},{bankName:"乌鲁木齐市商业银行",bankCode:"URMQCCB",patterns:[{reg:/^(621751|622143|940001|621754)\d{13}$/g,cardType:"DC"},{reg:/^(622476|628278)\d{10}$/g,cardType:"CC"}]},{bankName:"绍兴银行",bankCode:"SXCB",patterns:[{reg:/^(622486)\d{10}$/g,cardType:"DC"},{reg:/^(603602|623026|623086)\d{12}$/g,cardType:"DC"},{reg:/^(628291)\d{10}$/g,cardType:"CC"}]},{bankName:"成都商业银行",bankCode:"CDCB",patterns:[{reg:/^(622152|622154|622996|622997|940027|622153|622135|621482|621532)\d{13}$/g,cardType:"DC"}]},{bankName:"抚顺银行",bankCode:"FSCB",patterns:[{reg:/^(622442)\d{11}$/g,cardType:"DC"},{reg:/^(940053)\d{12}$/g,cardType:"DC"},{reg:/^(622442|623099)\d{13}$/g,cardType:"DC"}]},{bankName:"郑州银行",bankCode:"ZZBANK",patterns:[{reg:/^(622421)\d{13}$/g,cardType:"DC"},{reg:/^(940056)\d{11}$/g,cardType:"DC"},{reg:/^(96828)\d{11}$/g,cardType:"DC"}]},{bankName:"宁夏银行",bankCode:"NXBANK",patterns:[{reg:/^(621529|622429|621417|623089|623200)\d{13}$/g,cardType:"DC"},{reg:/^(628214|625529|622428)\d{10}$/g,cardType:"CC"}]},{bankName:"重庆银行",bankCode:"CQBANK",patterns:[{reg:/^(9896)\d{12}$/g,cardType:"DC"},{reg:/^(622134|940018|623016)\d{10}$/g,cardType:"DC"}]},{bankName:"哈尔滨银行",bankCode:"HRBANK",patterns:[{reg:/^(621577|622425)\d{13}$/g,cardType:"DC"},{reg:/^(940049)\d{12}$/g,cardType:"DC"},{reg:/^(622425)\d{11}$/g,cardType:"DC"}]},{bankName:"兰州银行",bankCode:"LZYH",patterns:[{reg:/^(622139|940040|628263)\d{10}$/g,cardType:"DC"},{reg:/^(621242|621538|621496)\d{13}$/g,cardType:"DC"}]},{bankName:"青岛银行",bankCode:"QDCCB",patterns:[{reg:/^(621252|622146|940061|628239)\d{10}$/g,cardType:"DC"},{reg:/^(621419|623170)\d{13}$/g,cardType:"DC"}]},{bankName:"秦皇岛市商业银行",bankCode:"QHDCCB",patterns:[{reg:/^(62249802|94004602)\d{11}$/g,cardType:"DC"},{reg:/^(621237|623003)\d{13}$/g,cardType:"DC"}]},{bankName:"青海银行",bankCode:"BOQH",patterns:[{reg:/^(622310|940068)\d{11}$/g,cardType:"DC"},{reg:/^(622817|628287|625959)\d{10}$/g,cardType:"CC"},{reg:/^(62536601)\d{8}$/g,cardType:"CC"}]},{bankName:"台州银行",bankCode:"TZCB",patterns:[{reg:/^(622427)\d{10}$/g,cardType:"DC"},{reg:/^(940069)\d{11}$/g,cardType:"DC"},{reg:/^(623039)\d{13}$/g,cardType:"DC"},{reg:/^(622321|628273)\d{10}$/g,cardType:"CC"},{reg:/^(625001)\d{10}$/g,cardType:"SCC"}]},{bankName:"长沙银行",bankCode:"CSCB",patterns:[{reg:/^(694301)\d{12}$/g,cardType:"DC"},{reg:/^(940071|622368|621446)\d{13}$/g,cardType:"DC"},{reg:/^(625901|622898|622900|628281|628282|622806|628283)\d{10}$/g,cardType:"CC"},{reg:/^(620519)\d{13}$/g,cardType:"PC"}]},{bankName:"泉州银行",bankCode:"BOQZ",patterns:[{reg:/^(683970|940074)\d{12}$/g,cardType:"DC"},{reg:/^(622370)\d{13}$/g,cardType:"DC"},{reg:/^(621437)\d{13}$/g,cardType:"DC"},{reg:/^(628319)\d{10}$/g,cardType:"CC"}]},{bankName:"包商银行",bankCode:"BSB",patterns:[{reg:/^(622336|621760)\d{11}$/g,cardType:"DC"},{reg:/^(622165)\d{10}$/g,cardType:"DC"},{reg:/^(622315|625950|628295)\d{10}$/g,cardType:"CC"}]},{bankName:"龙江银行",bankCode:"DAQINGB",patterns:[{reg:/^(621037|621097|621588|622977)\d{13}$/g,cardType:"DC"},{reg:/^(62321601)\d{11}$/g,cardType:"DC"},{reg:/^(622860)\d{10}$/g,cardType:"DC"},{reg:/^(622644|628333)\d{10}$/g,cardType:"CC"}]},{bankName:"上海农商银行",bankCode:"SHRCB",patterns:[{reg:/^(622478|940013|621495)\d{10}$/g,cardType:"DC"},{reg:/^(625500)\d{10}$/g,cardType:"SCC"},{reg:/^(622611|622722|628211|625989)\d{10}$/g,cardType:"CC"}]},{bankName:"浙江泰隆商业银行",bankCode:"ZJQL",patterns:[{reg:/^(622717)\d{10}$/g,cardType:"SCC"},{reg:/^(628275|622565|622287)\d{10}$/g,cardType:"CC"}]},{bankName:"内蒙古银行",bankCode:"H3CB",patterns:[{reg:/^(622147|621633)\d{13}$/g,cardType:"DC"},{reg:/^(628252)\d{10}$/g,cardType:"CC"}]},{bankName:"广西北部湾银行",bankCode:"BGB",patterns:[{reg:/^(623001)\d{10}$/g,cardType:"DC"},{reg:/^(628227)\d{10}$/g,cardType:"CC"}]},{bankName:"桂林银行",bankCode:"GLBANK",patterns:[{reg:/^(621456)\d{11}$/g,cardType:"DC"},{reg:/^(621562)\d{13}$/g,cardType:"DC"},{reg:/^(628219)\d{10}$/g,cardType:"CC"}]},{bankName:"龙江银行",bankCode:"DAQINGB",patterns:[{reg:/^(621037|621097|621588|622977)\d{13}$/g,cardType:"DC"},{reg:/^(62321601)\d{11}$/g,cardType:"DC"},{reg:/^(622475|622860)\d{10}$/g,cardType:"DC"},{reg:/^(625588)\d{10}$/g,cardType:"SCC"},{reg:/^(622270|628368|625090|622644|628333)\d{10}$/g,cardType:"CC"}]},{bankName:"成都农村商业银行",bankCode:"CDRCB",patterns:[{reg:/^(623088)\d{13}$/g,cardType:"DC"},{reg:/^(622829|628301|622808|628308)\d{10}$/g,cardType:"CC"}]},{bankName:"福建省农村信用社联合社",bankCode:"FJNX",patterns:[{reg:/^(622127|622184|621701|621251|621589|623036)\d{13}$/g,cardType:"DC"},{reg:/^(628232|622802|622290)\d{10}$/g,cardType:"CC"}]},{bankName:"天津农村商业银行",bankCode:"TRCB",patterns:[{reg:/^(622531|622329)\d{13}$/g,cardType:"DC"},{reg:/^(622829|628301)\d{10}$/g,cardType:"CC"}]},{bankName:"江苏省农村信用社联合社",bankCode:"JSRCU",patterns:[{reg:/^(621578|623066|622452|622324)\d{13}$/g,cardType:"DC"},{reg:/^(622815|622816|628226)\d{10}$/g,cardType:"CC"}]},{bankName:"湖南农村信用社联合社",bankCode:"SLH",patterns:[{reg:/^(622906|628386|625519|625506)\d{10}$/g,cardType:"CC"}]},{bankName:"江西省农村信用社联合社",bankCode:"JXNCX",patterns:[{reg:/^(621592)\d{10}$/g,cardType:"DC"},{reg:/^(628392)\d{10}$/g,cardType:"CC"}]},{bankName:"商丘市商业银行",bankCode:"SCBBANK",patterns:[{reg:/^(621748)\d{13}$/g,cardType:"DC"},{reg:/^(628271)\d{10}$/g,cardType:"CC"}]},{bankName:"华融湘江银行",bankCode:"HRXJB",patterns:[{reg:/^(621366|621388)\d{13}$/g,cardType:"DC"},{reg:/^(628328)\d{10}$/g,cardType:"CC"}]},{bankName:"衡水市商业银行",bankCode:"HSBK",patterns:[{reg:/^(621239|623068)\d{13}$/g,cardType:"DC"}]},{bankName:"重庆南川石银村镇银行",bankCode:"CQNCSYCZ",patterns:[{reg:/^(621653004)\d{10}$/g,cardType:"DC"}]},{bankName:"湖南省农村信用社联合社",bankCode:"HNRCC",patterns:[{reg:/^(622169|621519|621539|623090)\d{13}$/g,cardType:"DC"}]},{bankName:"邢台银行",bankCode:"XTB",patterns:[{reg:/^(621238|620528)\d{13}$/g,cardType:"DC"}]},{bankName:"临汾市尧都区农村信用合作联社",bankCode:"LPRDNCXYS",patterns:[{reg:/^(628382|625158)\d{10}$/g,cardType:"CC"}]},{bankName:"东营银行",bankCode:"DYCCB",patterns:[{reg:/^(621004)\d{12}$/g,cardType:"DC"},{reg:/^(628217)\d{10}$/g,cardType:"CC"}]},{bankName:"上饶银行",bankCode:"SRBANK",patterns:[{reg:/^(621416)\d{10}$/g,cardType:"DC"},{reg:/^(628217)\d{10}$/g,cardType:"CC"}]},{bankName:"德州银行",bankCode:"DZBANK",patterns:[{reg:/^(622937)\d{13}$/g,cardType:"DC"},{reg:/^(628397)\d{10}$/g,cardType:"CC"}]},{bankName:"承德银行",bankCode:"CDB",patterns:[{reg:/^(628229)\d{10}$/g,cardType:"CC"}]},{bankName:"云南省农村信用社",bankCode:"YNRCC",patterns:[{reg:/^(622469|628307)\d{10}$/g,cardType:"CC"}]},{bankName:"柳州银行",bankCode:"LZCCB",patterns:[{reg:/^(622292|622291|621412)\d{12}$/g,cardType:"DC"},{reg:/^(622880|622881)\d{10}$/g,cardType:"DC"},{reg:/^(62829)\d{10}$/g,cardType:"CC"}]},{bankName:"威海市商业银行",bankCode:"WHSYBANK",patterns:[{reg:/^(623102)\d{10}$/g,cardType:"DC"},{reg:/^(628234)\d{10}$/g,cardType:"CC"}]},{bankName:"湖州银行",bankCode:"HZBANK",patterns:[{reg:/^(628306)\d{10}$/g,cardType:"CC"}]},{bankName:"潍坊银行",bankCode:"BANKWF",patterns:[{reg:/^(622391|940072)\d{10}$/g,cardType:"DC"},{reg:/^(628391)\d{10}$/g,cardType:"CC"}]},{bankName:"赣州银行",bankCode:"GZB",patterns:[{reg:/^(622967|940073)\d{13}$/g,cardType:"DC"},{reg:/^(628233)\d{10}$/g,cardType:"CC"}]},{bankName:"日照银行",bankCode:"RZGWYBANK",patterns:[{reg:/^(628257)\d{10}$/g,cardType:"CC"}]},{bankName:"南昌银行",bankCode:"NCB",patterns:[{reg:/^(621269|622275)\d{10}$/g,cardType:"DC"},{reg:/^(940006)\d{11}$/g,cardType:"DC"},{reg:/^(628305)\d{11}$/g,cardType:"CC"}]},{bankName:"贵阳银行",bankCode:"GYCB",patterns:[{reg:/^(622133|621735)\d{13}$/g,cardType:"DC"},{reg:/^(888)\d{13}$/g,cardType:"DC"},{reg:/^(628213)\d{10}$/g,cardType:"CC"}]},{bankName:"锦州银行",bankCode:"BOJZ",patterns:[{reg:/^(622990|940003)\d{11}$/g,cardType:"DC"},{reg:/^(628261)\d{10}$/g,cardType:"CC"}]},{bankName:"齐商银行",bankCode:"QSBANK",patterns:[{reg:/^(622311|940057)\d{11}$/g,cardType:"DC"},{reg:/^(628311)\d{10}$/g,cardType:"CC"}]},{bankName:"珠海华润银行",bankCode:"RBOZ",patterns:[{reg:/^(622363|940048)\d{13}$/g,cardType:"DC"},{reg:/^(628270)\d{10}$/g,cardType:"CC"}]},{bankName:"葫芦岛市商业银行",bankCode:"HLDCCB",patterns:[{reg:/^(622398|940054)\d{10}$/g,cardType:"DC"}]},{bankName:"宜昌市商业银行",bankCode:"HBC",patterns:[{reg:/^(940055)\d{11}$/g,cardType:"DC"},{reg:/^(622397)\d{11}$/g,cardType:"CC"}]},{bankName:"杭州商业银行",bankCode:"HZCB",patterns:[{reg:/^(603367|622878)\d{12}$/g,cardType:"DC"},{reg:/^(622397)\d{11}$/g,cardType:"CC"}]},{bankName:"苏州市商业银行",bankCode:"JSBANK",patterns:[{reg:/^(603506)\d{13}$/g,cardType:"DC"}]},{bankName:"辽阳银行",bankCode:"LYCB",patterns:[{reg:/^(622399|940043)\d{11}$/g,cardType:"DC"}]},{bankName:"洛阳银行",bankCode:"LYB",patterns:[{reg:/^(622420|940041)\d{11}$/g,cardType:"DC"}]},{bankName:"焦作市商业银行",bankCode:"JZCBANK",patterns:[{reg:/^(622338)\d{13}$/g,cardType:"DC"},{reg:/^(940032)\d{10}$/g,cardType:"DC"}]},{bankName:"镇江市商业银行",bankCode:"ZJCCB",patterns:[{reg:/^(622394|940025)\d{10}$/g,cardType:"DC"}]},{bankName:"法国兴业银行",bankCode:"FGXYBANK",patterns:[{reg:/^(621245)\d{10}$/g,cardType:"DC"}]},{bankName:"大华银行",bankCode:"DYBANK",patterns:[{reg:/^(621328)\d{13}$/g,cardType:"DC"}]},{bankName:"企业银行",bankCode:"DIYEBANK",patterns:[{reg:/^(621651)\d{13}$/g,cardType:"DC"}]},{bankName:"华侨银行",bankCode:"HQBANK",patterns:[{reg:/^(621077)\d{10}$/g,cardType:"DC"}]},{bankName:"恒生银行",bankCode:"HSB",patterns:[{reg:/^(622409|621441)\d{13}$/g,cardType:"DC"},{reg:/^(622410|621440)\d{11}$/g,cardType:"DC"},{reg:/^(622950|622951)\d{10}$/g,cardType:"DC"},{reg:/^(625026|625024|622376|622378|622377|625092)\d{10}$/g,cardType:"CC"}]},{bankName:"临沂商业银行",bankCode:"LSB",patterns:[{reg:/^(622359|940066)\d{13}$/g,cardType:"DC"}]},{bankName:"烟台商业银行",bankCode:"YTCB",patterns:[{reg:/^(622886)\d{10}$/g,cardType:"DC"}]},{bankName:"齐鲁银行",bankCode:"QLB",patterns:[{reg:/^(940008|622379)\d{13}$/g,cardType:"DC"},{reg:/^(628379)\d{10}$/g,cardType:"CC"}]},{bankName:"BC卡公司",bankCode:"BCCC",patterns:[{reg:/^(620011|620027|620031|620039|620103|620106|620120|620123|620125|620220|620278|620812|621006|621011|621012|621020|621023|621025|621027|621031|620132|621039|621078|621220|621003)\d{10}$/g,cardType:"DC"},{reg:/^(625003|625011|625012|625020|625023|625025|625027|625031|621032|625039|625078|625079|625103|625106|625006|625112|625120|625123|625125|625127|625131|625032|625139|625178|625179|625220|625320|625111|625132|625244)\d{10}$/g,cardType:"CC"}]},{bankName:"集友银行",bankCode:"CYB",patterns:[{reg:/^(622355|623042)\d{10}$/g,cardType:"DC"},{reg:/^(621043|621742)\d{13}$/g,cardType:"DC"},{reg:/^(622352|622353|625048|625053|625060)\d{10}$/g,cardType:"CC"},{reg:/^(620206|620207)\d{10}$/g,cardType:"PC"}]},{bankName:"大丰银行",bankCode:"TFB",patterns:[{reg:/^(622547|622548|622546)\d{13}$/g,cardType:"DC"},{reg:/^(625198|625196|625147)\d{10}$/g,cardType:"CC"},{reg:/^(620072)\d{13}$/g,cardType:"PC"},{reg:/^(620204|620205)\d{10}$/g,cardType:"PC"}]},{bankName:"AEON信贷财务亚洲有限公司",bankCode:"AEON",patterns:[{reg:/^(621064|622941|622974)\d{10}$/g,cardType:"DC"},{reg:/^(622493)\d{10}$/g,cardType:"CC"}]},{bankName:"澳门BDA",bankCode:"MABDA",patterns:[{reg:/^(621274|621324)\d{13}$/g,cardType:"DC"}]}],d=angular.isFunction,f=(angular.extend,function(a){return b[a]?b[a]:void 0
}),g=function(a){var b,d,e;for(b=0,d=c.length;d>b;b++)if(e=c[b],a==e.bankCode)return e.bankName;return""},i=function(b,c){a.httpGet("/api/referrer/getbankcardattribute",{cardNo:b},function(a){if(!a||!a.validated)return c("获取银行卡类型失败"),void 0;var b={};b["bankName"]=g(a.bank),b["cardType"]=a.cardType,b["bankCode"]=a.bank,b["cardTypeName"]=f(a.cardType),b["addible"]=a.addible,b["backName"]=b["bankName"],c(null,b)})};return{getBankInfo:function(a,b){var c="";return d(b)||(b=function(){}),isNaN(a)&&(a=parseInt(a),isNaN(a))?(checkFlag=!1,c="银行卡号必须是数字",b(c)):a.toString().length<15||a.toString().length>19?(checkFlag=!1,c="银行卡位数必须是15到19位",b(c)):(i(a,function(a,c){b(a,c)}),void 0)}}}]).factory("user",["common",function(a){return{postswiftpassapipay:function(b,c){return a.httpPost("/api/SwiftPass/postswiftpassapipay",b,c)},godcomment:function(b,c){return a.httpPost("/api/comment/godcomment",b,c)},payorderquery:function(b,c,d){return a.httpPost("/api/SwiftPass/payorderquery",{orderNo:b,payVerify:c},d)}}}]).factory("seller",["common","browser",function(a,b){return{login:function(){return a.httpGet("/api/God/Login?p=15018679165",{},function(){})},getrecommendphonenum:function(b,c,d){return a.httpGet("/api/God/getrecommendphonenum",{recommendCode:b},c,d)},regist:function(c,d){var c={PhoneNumber:c.userPhone,SmsCode:c.phoneCode,RecommendCode:c.inviterCode,Password:c.userPwd,Code:localStorage.getItem("spp_weixincode"),Source:b.getsource()};return a.httpPost("/api/God/businessregister",c,d)},settled:function(b,c){var b={ShopkeeperName:b.realName,IdNumber:b.idCard,IdCardInHand:b.img3,IDCardPositive:b.img1,IDCardNegative:b.img2};return a.httpPost("/api/God/updateshopkeeperinfo",b,c)},saveShopInfo:function(b,c){return a.httpPost("/api/God/updateshopbaseinfo",b,c)},applyqrcodepay:function(b,c,d){return a.httpPost("/api/qrcodepay/applyqrcodepay",{code:b,branchShopId:c},d)},addbranchshop:function(b,c){return a.httpPost("/api/branchshop/addbranchshop",b,c)}}}]).factory("memchants",["common",function(a){return{godInfo:function(b){return a.httpGet("/api/God/godinfo",{},b)},getgodorderdetail:function(b,c){return a.httpGet("/api/qrcodepay/getgodorderdetail",{orderId:b},c)}}}]).factory("sendPhoneValidCode",["common","userInfo",function(a,b){return{getValidateCode:function(c,d){if(1==c||2==c)return a.httpPost("/api/Comm/changesecuritypwdsmscode",{},d);if(3==c){var e=b.getWXClerkCode();if(!e)return;return a.httpGet("/api/shopauthorizesales/securitypwdsmscode",{authorizecode:e},d)}}}}]).factory("merchants2",["common","dialog","userInfo",function(a,b,c){return{getshopqrcodeurlbycode:function(b,c){return a.httpGet("/api/shopauthorizesales/getshopqrcodeurl",{authorizecode:b},c)},getshopqrcodeurl:function(b,c){return a.httpGet("/api/qrcodepay/getshopqrcodeurl",{branchShopId:b},c)},closeqrcodeorder:function(b,c,d,e){return"1"==c?a.httpGet("/api/qrcodepay/closeqrcodeorder",{orderNo:b},e):"2"==c?a.httpGet("/api/shopauthorizesales/closeqrcodeorder",{orderNo:b,authorizecode:d},e):void 0},queryanddealmicropaymentorder:function(b,c,d,e){return"1"==c?a.httpGet("/api/swiftpass/queryanddealmicropaymentorder",{orderNo:b},e):"2"==c?a.httpGet("/api/shopauthorizesales/queryanddealmicropaymentorder",{orderNo:b,authorizecode:d},e):void 0},scancodecollection:function(b,c,d,e,f,g,h){return"1"==e?a.httpGet("/api/swiftpass/scancodecollection",{amount:b,codeNumber:c,branchShopId:d},g,h):"2"==e?a.httpGet("/api/shopauthorizesales/scancodecollection",{authorizecode:f,amount:b,codeNumber:c},g,h):void 0},getshopnamebyphonenum:function(b,c,d){return a.httpGet("/api/registerapply/getshopnamebyphonenum",{phoneNum:b},c,d)},registerapply:function(b,c){return a.httpPost("/api/registerapply/registerapply",b,c)},setisworkingtime:function(b,c,d){return a.httpGet("/api/shopauthorizesales/setisworkingtime",{authorizecode:b,isWorkingTime:c},d)},getsellerstatus:function(b){return a.httpGet("/api/God/getsellerstatus",{},b)},login:function(b,c){return a.httpGet("/api/comm/shortcutlogin",{id:b},c)},getInfo:function(b){return a.httpGet("/api/God/sellerinfo",{},b)},gethass0withdrawal:function(b){return a.httpGet("/api/withdrawal/getwithdrawalstatus",{},b)},getEcodeDetail:function(b,c){return a.httpGet("/api/qrcodepay/payqrcodeinfo",{id:b},c)},addClerk:function(b,c){return a.httpPost("/api/shopauthorizesales/addshopsalesman",b,c)},activeClerk:function(b,c){return a.httpPost("/api/shopauthorizesales/salesmanactivate",b,c)},getClerkDetail:function(b,c){return a.httpGet("/api/shopauthorizesales/shopsalemansingle",{id:b},c)},disablecapitalauthority:function(b,c,d){return a.httpPost("/api/shopauthorizesales/disablecapitalauthority",{Id:b},c,d)},enablecapitalauthority:function(b,c,d){return a.httpPost("/api/shopauthorizesales/enablecapitalauthority",{Id:b},c,d)},disabledClerk:function(b,c,d){return a.httpPost("/api/shopauthorizesales/disablesalesmanauthorize",{id:b},c,d)},enabledClerk:function(b,c,d){return a.httpPost("/api/shopauthorizesales/enablesalesmanauthorize",{id:b},c,d)},getgodorderdetail:function(b,c){return a.httpGet("/api/qrcodepay/selleordetail",{orderId:b},c)},setSecurityPwd:function(b,d){if(3==b.type){var e=c.getWXClerkCode();if(!e)return;return b.securityCode=b.securityPwd,b.authorizecode=e,a.httpGet("/api/shopauthorizesales/setsecuritycode",b,d)}return a.httpPost("/api/shop/setcapitalaccount",b,d)},getIsSetPwdFlag:function(b){return a.httpGet("/api/shop/iscapitalaccount",{},b)},getPhoneNumber:function(b,d){if(3==b){var e=c.getWXClerkCode();if(!e)return;return a.httpGet("/api/shopauthorizesales/getphonenum",{authorizecode:e},d)}return a.httpGet("/api/god/getphonenum",{},d)},addCard:function(b,c){return a.httpPost("/api/shop/bindmybankcard",b,c)},getCardsList:function(b,d){switch(b=parseInt(b)){case 1:case 2:case 3:case 4:return a.httpGet("/api/shop/getmybankcardlist",{},d);case 5:case 6:case 7:var e=c.getWXClerkCode();return a.httpGet("/api/shopauthorizesales/getmybankcardlist",{authorizecode:e},d)}},getCardsDetail:function(b,c){return a.httpGet("/api/Shop/getmybankcardinfo",{cardId:b},c)},unbindCard:function(b,c,d){return a.httpPost("/api/shop/unbindmybankcard",{id:b,securityPwd:c},d)},getInDetail:function(b,c,d){return a.httpGet("/api/fundsflow/businessfundsflowsingle",{id:b,feeType:c},d)},getWithdrawDetail:function(b,c,d){return a.httpGet("/api/withdrawal/withdrawalrecorddetail",{id:b,feeType:c},d)},getbankcardattribute:function(b,c){return a.httpGet("/api/Shop/getbankcardattribute",{cardNo:b},c)},userWithdrawalInfo:function(b,d,e){switch(e=e||"2",b=parseInt(b)){case 1:case 3:case 4:return a.httpGet("/api/withdrawal/userwithdrawalinfo",{settlementMode:e},d);case 2:return a.httpPost("/api/shopbonus/shopbonuswithdrawalinfo",{},d);case 5:case 6:case 7:var f=c.getWXClerkCode();if(!f)return;return a.httpGet("/api/shopauthorizesales/userwithdrawalinfo",{authorizecode:f,settlementMode:"12"},d)}},applywithdrawal:function(b,d,e){switch(b=parseInt(b)){case 1:case 3:case 4:return a.httpPost("/api/withdrawal/applywithdrawal",d,e);case 2:return a.httpPost("/api/shopbonus/shopbonusapplywithdrawal",d,e);case 5:case 6:case 7:var f=c.getWXClerkCode();if(!f)return;return d.authorizecode=f,a.httpPost("/api/shopauthorizesales/applywithdrawal",d,e)}},iscapitalaccount:function(b){return a.httpGet("/api/Shop/iscapitalaccount",{},b)},shopsalesmanlist:function(b,c){return a.httpGet("/api/shopauthorizesales/shopsalesmanlist",{branchShopId:b},c)},updateshoplogo:function(b,c,d){return a.httpGet("/api/god/updateshoplogo",{logoUrl:b,branchShopId:c},d)},updateshopname:function(b,c,d,e){return a.httpGet("/api/god/updateshopname",{shopname:b,subname:c,branchShopId:d},e)},updateshopaddress:function(b,c){return a.httpPost("/api/god/updateshopaddress",b,c)},getShopInfo:function(b,c){return a.httpGet("/api/god/getshopsetinfo",{branchShopId:b},c)},getcommentcountbyshopid:function(b,c,d){return a.httpGet("/api/comment/getcommentcountbyshopid",{shopId:b,orderId:c},d)},salesmanactivateaffirm:function(b){return a.httpGet("/api/shopauthorizesales/salesmanactivateaffirm",{},b)},getwithdrawdetailid:function(b,d,e){if(1==d)return a.httpGet("/api/withdrawal/withdrawalrecorddetail",{id:b},e);var f=c.getWXClerkCode();if(f)return a.httpGet("/api/shopauthorizesales/withdrawalrecorddetail",{id:b,authorizecode:f},e)},withdrawaldatelist:function(b,d,e){if(1==d)return a.httpGet("/api/withdrawal/withdrawaldatelist",{dt:b},e);var f=c.getWXClerkCode();if(f)return a.httpGet("/api/shopauthorizesales/withdrawaldatelist",{dt:b,authorizecode:f},e)},getbranchshoplist:function(b){return a.httpGet("/api/branchshop/getbranchshoplist",{},b)},getshopstatistics:function(b,c){return a.httpGet("/api/shop/getshopstatistics",{branchShopId:b},c)},getbindrelation:function(b,c){return a.httpGet("/api/shopauthorizesales/getbindrelation",{authorizecode:b},c)},Qsellerorderdetailbyno:function(b,c){return a.httpGet("/api/qrcodepay/sellerorderdetailbyno",{orderNo:b},c)},Ssellerorderdetailbyno:function(b,c,d){return a.httpGet("/api/shopauthorizesales/sellerorderdetailbyno",{authorizecode:b,orderNo:c},d)},unbindshop:function(b,c){return a.httpGet("/api/shopauthorizesales/unbindshop",{authorizecode:b},c)},getnewcustomerlist:function(b,c,d,e){return a.httpGet("/api/shop/getnewcustomerlist",{beginDate:b,endDate:c,branchShopId:d},e)},getreturnedcustomerlist:function(b,c,d,e){return a.httpGet("/api/shop/getreturnedcustomerlist",{beginDate:b,endDate:c,branchShopId:d},e)},getrecentcustomerlist:function(b,c,d){return a.httpGet("/api/shop/getrecentcustomerlist",{days:b,branchShopId:c},d)},getrecentuncustomerlist:function(b,c,d){return a.httpGet("/api/shop/getrecentuncustomerlist",{days:b,branchShopId:c},d)},getfrequencycustomerlist:function(b,c,d){return a.httpGet("/api/shop/getfrequencycustomerlist",{times:b,branchShopId:c},d)},getamounttypecustomerlist:function(b,c,d,e){return a.httpGet("/api/shop/getamounttypecustomerlist",{minAmount:b,maxAmount:c,branchShopId:d},e)}}}]).factory("clerk",["common","userInfo","dialog",function(a,b,c){var d=function(){var a=b.getWXClerkCode();return a?a:(c.tips("获取授权信息失败"),!1)};return{getcapitalauthority:function(b){var c=d();if(c)return a.httpGet("/api/shopauthorizesales/getcapitalauthority",{authorizecode:c},b)},fundsflowtotalamount:function(b){var c=d();if(c)return a.httpGet("/api/shopauthorizesales/fundsflowtotalamount",{authorizecode:c},b)},getwithdrawalstatus:function(b){var c=d();if(c)return a.httpGet("/api/shopauthorizesales/getwithdrawalstatus",{authorizecode:c},b)},selleordetail:function(b,c){var e=d();if(e)return a.httpGet("/api/shopauthorizesales/selleordetail",{authorizecode:e,orderId:b},c)}}}]).factory("sales",["common",function(a){return{login:function(b,c){a.httpPost("/api/salesman/login",b,c)},update:function(b,c){a.httpPost("/api/salesman/checkshop",b,c)},agencieslist:function(b){a.httpGet("/api/salesman/agencieslist",{},b)},updateshopkeeperinfo:function(b,c){var b={ShopId:b.shopId,ShopkeeperName:b.realName,IdNumber:b.idCard,IdCardInHand:b.img3,IDCardPositive:b.img1,IDCardNegative:b.img2};return a.httpPost("/api/salesman/updateshopkeeperinfo",b,c)},updateshopbaseinfo:function(b,c){return a.httpPost("/api/salesman/updateshopbaseinfo",b,c)}}}]).factory("changeTime",[function(){return{changeyyyymmdd:function(a){var b,c;return Date.prototype.format=function(a){var c,b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},b=new Date(a).getTime(),c=new Date(b).format("yyyy-MM-dd")}}}]).factory("referrerdata",["common",function(a){return{getValidateCode:function(b,c){return a.httpPost("/api/referrer/registersmscode",b,c)},ReferrerRegister:function(b,c,d,e){return a.httpPost("/api/referrer/ReferrerRegister",b,c,d,e)},ReferrerCenterInfo:function(b){return a.httpGet("/api/referrer/ReferrerCenterInfo",{},b)},ReferrerAccount:function(b){return a.httpGet("/api/referrer/ReferrerAccount",{},b)},CommisstionMoney:function(b){return a.httpGet("/api/referrer/CommisstionMoney",{},b)},CommissionList:function(b,c,d){return a.httpGet("/api/referrer/CommissionList",b,c,d)},FundsFlowList:function(b){return a.httpGet("/api/referrer/FundsFlowList",{},b)},WithdrawalModel:function(b,c){return a.httpGet("/api/referrer/WithdrawalModel",b,c)},FundsFlowModel:function(b,c){return a.httpGet("/api/referrer/FundsFlowModel",b,c)},ReferrerBaseInfo:function(b){return a.httpGet("/api/referrer/ReferrerBaseInfo",{},b)},RealNameSmsCode:function(b,c){return a.httpPost("/api/referrer/RealNameSmsCode",b,c)},AddBankCardFirst:function(b,c,d,e,f,g,h,i){return a.httpPost("/api/referrer/AddBankCardFirst",b,c,d,e,f,g,h,i)},BankCardList:function(b){return a.httpGet("/api/referrer/BankCardList",{},b)},AddBankCard:function(b,c,d,e,f,g,h,i){return a.httpPost("/api/referrer/AddBankCard",b,c,d,e,f,g,h,i)},SafeSmsCode:function(b){return a.httpPost("/api/referrer/SafeSmsCode",{},b)},UpdateSafePassword:function(b,c,d){return a.httpPost("/api/referrer/UpdateSafePassword",b,c,d)},WithdrawalApply:function(b,c,d,e,f){return a.httpPost("/api/referrer/WithdrawalApply",b,c,d,e,f)},WithdrawalsUserInfo:function(b){return a.httpGet("/api/referrer/WithdrawalsUserInfo",{},b)},LoginInfo:function(b){return a.httpGet("/api/referrer/LoginInfo",{},b)},BusinessApply:function(b,c,d,e,f,g){return a.httpPost("/api/referrer/BusinessApply",b,c,d,e,f,g)},login:function(b){return a.httpPost("/api/referrer/login",{phoneNumber:"13824424446"},b)},UnbundlingBankCard:function(b,c,d){return a.httpPost("/api/referrer/UnbundlingBankCard",b,c,d)},ParamQrCode:function(b,c,d){return a.httpGet("/api/referrer/ParamQrCode",b,c,d)}}}]);